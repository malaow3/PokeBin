(()=>{"use strict";var e={126:function(e,t,r){let n,o;var i=r(927),l=r(247);function a(e,t){let r=new Uint8Array(o.buffer,e,t);return new TextDecoder().decode(r)}async function s(){o=(n=(await WebAssembly.instantiateStreaming(fetch("/wasm"),{env:{_throwError(e,t){throw Error(a(e,t))},_consoleLog(e,t){console.log(a(e,t))}}})).instance.exports).memory;let e=BigInt(Date.now());n.init(e)}function d(e){return btoa(String.fromCharCode(...new TextEncoder().encode(e)))}Uint32Array.BYTES_PER_ELEMENT,Uint8Array.BYTES_PER_ELEMENT;var c=(0,l.XK)('<div style="user-select:none !important;z-index:9999"><a class=patreon-button href=https://patreon.com/malaow3 target=_blank rel=noreferrer><img width=16 height=16 class="octicon rounded-2 d-block"alt=patreon src=https://github.githubassets.com/assets/patreon-96b15b9db4b9.svg><span class=ml-2>Support on Patreon');let f=function(){return c()},u=r.p+"static/image/large_logo_cropped.45c0e1e9.webp";var b=(0,l.XK)('<h1 class="text-sm font-bold text-[#c2a8d4]"> active PokeBin users!'),x=(0,l.XK)('<h1 class="text-sm font-bold text-[#c2a8d4]"> total PokeBins created!'),g=(0,l.XK)(`<main class="min-h-screen flex flex-col overflow-auto bg-[#f9f9f9] dark:bg-zinc-950 text-black dark:text-white"><form action=/create method=post id=form class="flex-1 flex md:flex-row flex-col overflow-auto"><textarea id=paste name=paste placeholder="Paste your tournament winning team here!"class="bg-white dark:bg-zinc-950 m-0 p-3 box-border text-black dark:text-white font-mono resize-none outline-none border-none md:flex-1 h-[40vh] md:h-auto"></textarea><div class="md:w-[28rem] w-full bg-[#f9f9f9] dark:bg-zinc-900 text-black dark:text-white flex flex-col p-4 overflow-y-auto"><div class="flex-1 flex flex-col"><div><div class="flex justify-center items-center mb-2"><div class="w-[300px] aspect-[2/1]"><img class="border-none outline-none shadow-none"alt="PokeBin Logo"></div></div><div class="flex-1 flex flex-col gap-4"><div class="flex flex-row items-center gap-3"><label for=title class="w-20 text-right font-medium">Title</label><input type=text name=title id=title autocomplete=off class="flex-1 text-sm rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-black dark:text-white outline-none focus:border-zinc-500 px-2 py-1"></div><div class="flex flex-row items-center gap-3"><label for=author class="w-20 text-right font-medium">Author</label><input type=text name=author id=author autocomplete=off class="flex-1 text-sm rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-black dark:text-white outline-none focus:border-zinc-500 px-2 py-1"></div><div class="flex flex-row items-center gap-3"><label for=rental class="w-20 text-right font-medium">Rental</label><input type=text name=rental id=rental autocomplete=off class="flex-1 rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-black dark:text-white outline-none focus:border-zinc-500 px-2 py-1"minlength=6 maxlength=6></div><div class="flex flex-row items-center gap-3"><label for=format class="w-20 text-right font-medium">Format</label><input type=text name=format id=format autocomplete=off class="flex-1 rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-black dark:text-white outline-none focus:border-zinc-500 px-2 py-1"></div><div class="flex flex-row items-start gap-3"><label for=notes class="w-20 text-right font-medium pt-1">Notes</label><textarea id=notes name=notes rows=4 autocomplete=off class="flex-1 text-sm rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-black dark:text-white outline-none focus:border-zinc-500 px-2 py-1 resize-y min-h-[100px] max-h-[200px] md:max-h-none"></textarea></div><div class="flex flex-row items-center gap-3"><label for=password class="w-20 text-right font-medium">Password</label><input type=text name=password id=password autocomplete=off class="flex-1 rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-black dark:text-white outline-none focus:border-zinc-500 px-2 py-1"></div><div class=mt-4><button type=submit class="w-full bg-[#c2a8d4] hover:bg-[#9770b6] text-black font-bold py-2 px-4 rounded">Submit Paste!</button></div><input type=text hidden name=data id=data></div></div></div><div class="mt-8 pt-6 flex flex-col items-center space-y-1"><div></div><a href=/about class="text-[#c2a8d4] hover:text-[#9770b6] text-base">About PokeBin</a><a href=/settings class="text-[#c2a8d4] hover:text-[#9770b6] text-base">Settings</a><span class="text-gray-600 opacity-20 text-xs">\xa9 Nelvana LLC`);let m=()=>{let[e,t]=(0,i.gQ)(),[r,a]=(0,i.gQ)(),[c,m]=(0,i.gQ)(),[h,p]=(0,i.gQ)(),[v,w]=(0,i.gQ)(),[y,k]=(0,i.gQ)(),[S,z]=(0,i.gQ)(),[P,$]=(0,i.gQ)(),[C,E]=(0,i.gQ)(),[D,Q]=(0,i.gQ)(),[L,T]=(0,i.gQ)(),[A,O]=(0,i.gQ)(),[B,M]=(0,i.gQ)(),[N,_]=(0,i.gQ)(""),[H,U]=(0,i.gQ)(""),[j,I]=(0,i.gQ)(!1),R=localStorage.getItem("darkMode"),W=!0;null!==R&&(W=JSON.parse(R));let[F,J]=(0,i.gQ)({darkMode:W});function K(){var e;let t,r=document.getElementsByTagName("body")[0];F().darkMode?(r.classList.add("dark"),r.classList.remove("light")):(r.classList.add("light"),r.classList.remove("dark")),e=F().darkMode,(t=document.querySelector('meta[name="theme-color"]'))||((t=document.createElement("meta")).setAttribute("name","theme-color"),document.head.appendChild(t)),t.setAttribute("content",e?"#000000":"#f9f9f9")}function X(){let e=y();e&&(e.style.height="auto")}async function G(t){t.preventDefault();let i=Date.now(),l=r();if(!l)return!1;if(""===l.value)return alert("Paste cannot be empty!"),!1;let a=function(e){if(!n||!o)return -1;let t=new TextEncoder().encode(e),r=n.allocUint8(t.length);if(!r)return console.error("Failed to allocate memory"),-1;new Uint8Array(n.memory.buffer).set(t,r);let i=n.validatePaste(r,t.length);return n.resetArena(),i}(l.value);if(0!==a)return -1===a?alert("PokeBin encountered an issue! Please refresh and try again!"):6===a?alert("PokeBin contains too many Pokemon!"):alert("Not a valid PokeBin! If you believe this is incorrect, try re-copying from Showdown and please file an issue on GitHub."),!1;let s=c(),f=h(),u=v(),b=y(),x=S(),g=P(),m=C(),p=e();if(!s||!f||!u||!b||!x||!g||!m||!p)return!1;let w=l.value;w=w.trim();let k={title:f.value,author:u.value,notes:b.value,format:x.value,rental:g.value,content:w},z={encrypted:!1,data:k};if(""===s.value){m.value=d(JSON.stringify(z));let e=Date.now();return console.log(`Processing took ${e-i}ms`),p.submit(),!0}let $=s.value,E=function(e,t){if(!n||!o)return null;let r=t.length,i=e.length,l=n.allocUint8(r+i);if(!l)return console.error("Failed to allocate memory"),null;let a=new Uint8Array(n.memory.buffer),s=new TextEncoder().encode(t),d=new TextEncoder().encode(e);for(let e=0;e<r;e++)a[l+e]=s[e];for(let e=0;e<i;e++)a[l+r+e]=d[e];if(!n.encryptMessage(l,r,i))return console.error("Failed to encrypt message"),n.resetArena(),null;let c=n.getResultPtr(),f=n.getResultLen();if(0===c||0===f)return console.error("Invalid result"),n.resetArena(),null;a=new Uint8Array(n.memory.buffer);let u=new TextDecoder().decode(a.slice(c,c+f));return n.resetArena(),u}(JSON.stringify(k),$);if(E)z.encrypted=!0,z.data=E;else throw Error("Encryption failed");m.value=d(JSON.stringify(z)),s.disabled=!0;let D=Date.now();return console.log(`Processing took ${D-i}ms`),p.submit(),!0}return(0,i.GW)(()=>{K()}),(0,i.H3)(async()=>{K(),new WebSocket("/ws").onopen=async()=>{console.log("WebSocket connected to:","/ws"),U(await fetch("/live").then(e=>e.text()))},_(await fetch("/total").then(e=>e.text())),await s(),I(!0);let e=await fetch("/version");console.log(await e.text())}),(0,i.GW)(()=>{j()&&""!==N()&&""!==H()&&function(){let e=y(),t=L(),r=A(),n=B(),o=D();if(e&&t&&r&&n&&o){let i=o.clientHeight,l=window.innerHeight-r.clientHeight-n.clientHeight-t.clientHeight-i-16;e.style.maxHeight=`${l}px`}}()}),(0,i.LM)(i.di,{get when(){return(0,i.Py)(()=>""!==N())()&&""!==H()},get children(){var Y=g(),q=Y.firstChild,V=q.firstChild,Z=V.nextSibling.firstChild,ee=Z.firstChild,et=ee.firstChild,er=et.firstChild.firstChild,en=et.nextSibling.firstChild,eo=en.firstChild.nextSibling,ei=en.nextSibling,el=ei.firstChild.nextSibling,ea=ei.nextSibling,es=ea.firstChild.nextSibling,ed=ea.nextSibling,ec=ed.firstChild.nextSibling,ef=ed.nextSibling,eu=ef.firstChild,eb=eu.nextSibling,ex=ef.nextSibling,eg=ex.firstChild.nextSibling,em=ex.nextSibling.nextSibling,eh=Z.nextSibling,ep=eh.firstChild;return q.addEventListener("submit",e=>G(e)),(0,l.D$)(t,q),(0,l.D$)(a,V),(0,l.D$)(O,ee),(0,l.P$)(er,"src",u),er.style.setProperty("height","125px"),er.style.setProperty("width","290px"),(0,l.D$)(p,eo),(0,l.D$)(w,el),(0,l.D$)($,es),(0,l.D$)(z,ec),(0,l.D$)(Q,eu),eb.$$dblclick=X,(0,l.D$)(k,eb),(0,l.D$)(M,ex),(0,l.D$)(m,eg),(0,l.D$)(E,em),(0,l.D$)(T,eh),(0,l.$T)(eh,(0,i.LM)(i.di,{get when(){return""!==H()},get children(){var ev=b(),ew=ev.firstChild;return(0,l.$T)(ev,H,ew),ev}}),ep),(0,l.$T)(eh,(0,i.LM)(i.di,{get when(){return""!==N()},get children(){var ey=x(),ek=ey.firstChild;return(0,l.$T)(ey,N,ek),ey}}),ep),(0,l.$T)(ep,(0,i.LM)(f,{})),Y}})};(0,l.Qj)(["dblclick"]);let h=document.getElementById("root");h&&(0,l.sY)(()=>(0,i.LM)(m,{}),h)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.m=e,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=[];r.O=(t,n,o,i)=>{if(n){i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,o,i];return}for(var a=1/0,l=0;l<e.length;l++){for(var[n,o,i]=e[l],s=!0,d=0;d<n.length;d++)(!1&i||a>=i)&&Object.keys(r.O).every(e=>r.O[e](n[d]))?n.splice(d--,1):(s=!1,i<a&&(a=i));if(s){e.splice(l--,1);var c=o();void 0!==c&&(t=c)}}return t}})(),r.p="/",r.rv=()=>"1.3.1",(()=>{var e={95:0,980:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[l,a,s]=n,d=0;if(l.some(t=>0!==e[t])){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(s)var c=s(r)}for(t&&t(n);d<l.length;d++)i=l[d],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(c)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.ruid="bundler=rspack@1.3.1";var n=r.O(void 0,["365","336","95"],function(){return r(126)});n=r.O(n)})();
//# sourceMappingURL=index.692ebda7.js.map