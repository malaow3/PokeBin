(()=>{"use strict";var e={126:function(e,t,r){let n,o;var i=r(927),l=r(247);function a(e,t){let r=new Uint8Array(o.buffer,e,t);return new TextDecoder().decode(r)}async function s(){o=(n=(await WebAssembly.instantiateStreaming(fetch("/wasm"),{env:{_throwError(e,t){throw Error(a(e,t))},_consoleLog(e,t){console.log(a(e,t))}}})).instance.exports).memory;let e=BigInt(Date.now());n.init(e)}Uint32Array.BYTES_PER_ELEMENT,Uint8Array.BYTES_PER_ELEMENT;var d=(0,l.XK)('<div style="user-select:none !important;z-index:9999"><a class=patreon-button href=https://patreon.com/malaow3 target=_blank rel=noreferrer><img width=16 height=16 class="octicon rounded-2 d-block"alt=patreon src=https://github.githubassets.com/assets/patreon-96b15b9db4b9.svg><span class=ml-2>Support on Patreon');let c=function(){return d()},f=r.p+"static/image/large_logo_cropped.45c0e1e9.webp";var u=(0,l.XK)('<h1 class="text-sm font-bold text-[#c2a8d4]"> active PokeBin users!'),b=(0,l.XK)('<h1 class="text-sm font-bold text-[#c2a8d4]"> total PokeBins created!'),x=(0,l.XK)(`<main class="min-h-screen flex flex-col overflow-auto bg-[#f9f9f9] dark:bg-zinc-950 text-black dark:text-white"><form action=/create method=post id=form class="flex-1 flex md:flex-row flex-col overflow-auto"><textarea id=paste name=paste placeholder="Paste your tournament winning team here!"class="bg-white dark:bg-zinc-950 m-0 p-3 box-border text-black dark:text-white font-mono resize-none outline-none border-none md:flex-1 h-[40vh] md:h-auto"></textarea><div class="md:w-[28rem] w-full bg-[#f9f9f9] dark:bg-zinc-900 text-black dark:text-white flex flex-col p-4 overflow-y-auto"><div class="flex-1 flex flex-col"><div><div class="flex justify-center items-center mb-2"><div class="w-[300px] aspect-[2/1]"><img class="border-none outline-none shadow-none"alt="PokeBin Logo"></div></div><div class="flex-1 flex flex-col gap-4"><div class="flex flex-row items-center gap-3"><label for=title class="w-20 text-right font-medium">Title</label><input type=text name=title id=title autocomplete=off class="flex-1 text-sm rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-black dark:text-white outline-none focus:border-zinc-500 px-2 py-1"></div><div class="flex flex-row items-center gap-3"><label for=author class="w-20 text-right font-medium">Author</label><input type=text name=author id=author autocomplete=off class="flex-1 text-sm rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-black dark:text-white outline-none focus:border-zinc-500 px-2 py-1"></div><div class="flex flex-row items-center gap-3"><label for=rental class="w-20 text-right font-medium">Rental</label><input type=text name=rental id=rental autocomplete=off class="flex-1 rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-black dark:text-white outline-none focus:border-zinc-500 px-2 py-1"minlength=6 maxlength=6></div><div class="flex flex-row items-center gap-3"><label for=format class="w-20 text-right font-medium">Format</label><input type=text name=format id=format autocomplete=off class="flex-1 rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-black dark:text-white outline-none focus:border-zinc-500 px-2 py-1"></div><div class="flex flex-row items-start gap-3"><label for=notes class="w-20 text-right font-medium pt-1">Notes</label><textarea id=notes name=notes rows=4 autocomplete=off class="flex-1 text-sm rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-black dark:text-white outline-none focus:border-zinc-500 px-2 py-1 resize-y min-h-[100px] max-h-[200px] md:max-h-none"></textarea></div><div class="flex flex-row items-center gap-3"><label for=password class="w-20 text-right font-medium">Password</label><input type=text name=password id=password autocomplete=off class="flex-1 rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-black dark:text-white outline-none focus:border-zinc-500 px-2 py-1"></div><div class=mt-4><button type=submit class="w-full bg-[#c2a8d4] hover:bg-[#9770b6] text-black font-bold py-2 px-4 rounded">Submit Paste!</button></div><input type=text hidden name=data id=data></div></div></div><div class="mt-8 pt-6 flex flex-col items-center space-y-1"><div></div><a href=/about class="text-[#c2a8d4] hover:text-[#9770b6] text-base">About PokeBin</a><a href=/settings class="text-[#c2a8d4] hover:text-[#9770b6] text-base">Settings</a><span class="text-gray-600 opacity-20 text-xs">\xa9 Nelvana LLC`);let g=()=>{let[e,t]=(0,i.gQ)(),[r,a]=(0,i.gQ)(),[d,g]=(0,i.gQ)(),[m,h]=(0,i.gQ)(),[p,v]=(0,i.gQ)(),[w,y]=(0,i.gQ)(),[k,z]=(0,i.gQ)(),[S,P]=(0,i.gQ)(),[C,$]=(0,i.gQ)(),[E,D]=(0,i.gQ)(),[Q,L]=(0,i.gQ)(),[T,O]=(0,i.gQ)(),[A,B]=(0,i.gQ)(),[U,M]=(0,i.gQ)(""),[N,I]=(0,i.gQ)(""),[R,_]=(0,i.gQ)(!1);function H(){let e=w();e&&(e.style.height="auto")}let j=localStorage.getItem("darkMode"),W=!0;null!==j&&(W=JSON.parse(j));let[F,J]=(0,i.gQ)({darkMode:W});function K(){let e=document.getElementsByTagName("body")[0];F().darkMode?(e.classList.add("dark"),e.classList.remove("light")):(e.classList.add("light"),e.classList.remove("dark"))}async function X(t){t.preventDefault();let i=Date.now(),l=r();if(!l)return!1;if(""===l.value)return alert("Paste cannot be empty!"),!1;let a=function(e){if(!n||!o)return -1;let t=n.allocUint8(e.length);if(!t)return console.error("Failed to allocate memory"),-1;let r=new Uint8Array(n.memory.buffer),i=new TextEncoder().encode(e);for(let n=0;n<e.length;n++)r[t+n]=i[n];let l=n.validatePaste(t,e.length);return n.resetArena(),l}(l.value);if(0!==a)return -1===a?alert("PokeBin encountered an issue! Please refresh and try again!"):6===a?alert("PokeBin contains too many Pokemon!"):alert("Not a valid PokeBin! If you believe this is incorrect, try re-copying from Showdown and please file an issue on GitHub."),!1;let s=d(),c=m(),f=p(),u=w(),b=k(),x=S(),g=C(),h=e();if(!s||!c||!f||!u||!b||!x||!g||!h)return!1;let v=l.value;v=v.trim();let y={title:c.value,author:f.value,notes:u.value,format:b.value,rental:x.value,content:v},z={encrypted:!1,data:y};if(""===s.value){g.value=btoa(decodeURIComponent(encodeURIComponent(JSON.stringify(z))));let e=Date.now();return console.log(`Processing took ${e-i}ms`),h.submit(),!0}let P=s.value,$=function(e,t){if(!n||!o)return null;let r=t.length,i=e.length,l=n.allocUint8(r+i);if(!l)return console.error("Failed to allocate memory"),null;let a=new Uint8Array(n.memory.buffer),s=new TextEncoder().encode(t),d=new TextEncoder().encode(e);for(let e=0;e<r;e++)a[l+e]=s[e];for(let e=0;e<i;e++)a[l+r+e]=d[e];if(!n.encryptMessage(l,r,i))return console.error("Failed to encrypt message"),n.resetArena(),null;let c=n.getResultPtr(),f=n.getResultLen();if(0===c||0===f)return console.error("Invalid result"),n.resetArena(),null;a=new Uint8Array(n.memory.buffer);let u=new TextDecoder().decode(a.slice(c,c+f));return n.resetArena(),u}(JSON.stringify(y),P);if($)z.encrypted=!0,z.data=$;else throw Error("Encryption failed");g.value=btoa(decodeURIComponent(encodeURIComponent(JSON.stringify(z)))),s.disabled=!0;let E=Date.now();return console.log(`Processing took ${E-i}ms`),h.submit(),!0}return(0,i.GW)(()=>{K()}),(0,i.H3)(async()=>{K(),new WebSocket("/ws").onopen=async()=>{console.log("WebSocket connected to:","/ws"),I(await fetch("/live").then(e=>e.text()))},M(await fetch("/total").then(e=>e.text())),await s(),_(!0);let e=await fetch("/version");console.log(await e.text())}),(0,i.GW)(()=>{R()&&""!==U()&&""!==N()&&function(){let e=w(),t=Q(),r=T(),n=A(),o=E();if(e&&t&&r&&n&&o){let i=o.clientHeight,l=window.innerHeight-r.clientHeight-n.clientHeight-t.clientHeight-i-16;e.style.maxHeight=`${l}px`}}()}),(0,i.LM)(i.di,{get when(){return(0,i.Py)(()=>""!==U())()&&""!==N()},get children(){var G=x(),Y=G.firstChild,q=Y.firstChild,V=q.nextSibling.firstChild,Z=V.firstChild,ee=Z.firstChild,et=ee.firstChild.firstChild,er=ee.nextSibling.firstChild,en=er.firstChild.nextSibling,eo=er.nextSibling,ei=eo.firstChild.nextSibling,el=eo.nextSibling,ea=el.firstChild.nextSibling,es=el.nextSibling,ed=es.firstChild.nextSibling,ec=es.nextSibling,ef=ec.firstChild,eu=ef.nextSibling,eb=ec.nextSibling,ex=eb.firstChild.nextSibling,eg=eb.nextSibling.nextSibling,em=V.nextSibling,eh=em.firstChild;return Y.addEventListener("submit",e=>X(e)),(0,l.D$)(t,Y),(0,l.D$)(a,q),(0,l.D$)(O,Z),(0,l.P$)(et,"src",f),et.style.setProperty("height","125px"),et.style.setProperty("width","290px"),(0,l.D$)(h,en),(0,l.D$)(v,ei),(0,l.D$)(P,ea),(0,l.D$)(z,ed),(0,l.D$)(D,ef),eu.$$dblclick=H,(0,l.D$)(y,eu),(0,l.D$)(B,eb),(0,l.D$)(g,ex),(0,l.D$)($,eg),(0,l.D$)(L,em),(0,l.$T)(em,(0,i.LM)(i.di,{get when(){return""!==N()},get children(){var ep=u(),ev=ep.firstChild;return(0,l.$T)(ep,N,ev),ep}}),eh),(0,l.$T)(em,(0,i.LM)(i.di,{get when(){return""!==U()},get children(){var ew=b(),ey=ew.firstChild;return(0,l.$T)(ew,U,ey),ew}}),eh),(0,l.$T)(eh,(0,i.LM)(c,{})),G}})};(0,l.Qj)(["dblclick"]);let m=document.getElementById("root");m&&(0,l.sY)(()=>(0,i.LM)(g,{}),m)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.m=e,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=[];r.O=(t,n,o,i)=>{if(n){i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,o,i];return}for(var a=1/0,l=0;l<e.length;l++){for(var[n,o,i]=e[l],s=!0,d=0;d<n.length;d++)(!1&i||a>=i)&&Object.keys(r.O).every(e=>r.O[e](n[d]))?n.splice(d--,1):(s=!1,i<a&&(a=i));if(s){e.splice(l--,1);var c=o();void 0!==c&&(t=c)}}return t}})(),r.p="/",r.rv=()=>"1.3.1",(()=>{var e={95:0,980:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[l,a,s]=n,d=0;if(l.some(t=>0!==e[t])){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(s)var c=s(r)}for(t&&t(n);d<l.length;d++)i=l[d],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(c)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.ruid="bundler=rspack@1.3.1";var n=r.O(void 0,["365","95"],function(){return r(126)});n=r.O(n)})();
//# sourceMappingURL=index.be23045e.js.map