(()=>{"use strict";var e={596:function(e,t,r){let n,o,i,a,l,s;var c=r(247),d=r(927);function f(e,t,r){let n=new Uint8Array(e.memory.buffer,t,r);return new TextDecoder().decode(n)}async function u(){o=(n=(await WebAssembly.instantiateStreaming(fetch("/wasm"),{env:{_throwError(e,t){throw Error(f(i,e,t))},_consoleLog(e,t){console.log(f(i,e,t))}}})).instance.exports).memory,i={exports:n,memory:o};let e=BigInt(Date.now());n.init(e)}function b(e,t){}async function x(){let e=await fetch("/version"),t=await e.text();l=(a=(await WebAssembly.instantiateStreaming(fetch(`/web_wasm?v=${t}`),{env:{_throwError(e,t){throw Error(f(s,e,t))},_consoleLog(e,t){console.log(f(s,e,t))},createQRCodeCallback:b}})).instance.exports).memory,s={exports:a,memory:l};let r=BigInt(Date.now());a.init(r)}function g(e){return btoa(String.fromCharCode(...new TextEncoder().encode(e)))}Uint32Array.BYTES_PER_ELEMENT,Uint8Array.BYTES_PER_ELEMENT;var m=(0,c.XK)('<div style="user-select:none !important;z-index:9999"><a class=patreon-button href=https://patreon.com/malaow3 target=_blank rel=noreferrer><img width=16 height=16 class="octicon rounded-2 d-block"alt=patreon src=https://github.githubassets.com/assets/patreon-96b15b9db4b9.svg><span class=ml-2>Support on Patreon');let h=function(){return m()},p=r.p+"static/image/large_logo_cropped.45c0e1e9.webp";var w=(0,c.XK)('<h1 class="text-sm font-bold text-[#c2a8d4]"> active PokeBin users!'),v=(0,c.XK)('<h1 class="text-sm font-bold text-[#c2a8d4]"> total PokeBins created!'),y=(0,c.XK)(`<main class="min-h-screen flex flex-col overflow-auto bg-[#f9f9f9] dark:bg-zinc-950 text-black dark:text-white"><form action=/create method=post id=form class="flex-1 flex md:flex-row flex-col overflow-auto"><textarea id=paste name=paste placeholder="Paste your tournament winning team here!"class="bg-white dark:bg-zinc-950 m-0 p-3 box-border text-black dark:text-white font-mono resize-none outline-none border-none md:flex-1 h-[40vh] md:h-auto"></textarea><div class="md:w-[28rem] w-full bg-[#f9f9f9] dark:bg-zinc-900 text-black dark:text-white flex flex-col p-4 overflow-y-auto"><div class="flex-1 flex flex-col"><div><div class="flex justify-center items-center mb-2"><div class="w-[300px] aspect-[2/1]"><img class="border-none outline-none shadow-none"alt="PokeBin Logo"></div></div><div class="flex-1 flex flex-col gap-4"><div class="flex flex-row items-center gap-3"><label for=title class="w-20 text-right font-medium">Title</label><input type=text name=title id=title autocomplete=off class="flex-1 text-sm rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-black dark:text-white outline-none focus:border-zinc-500 px-2 py-1"></div><div class="flex flex-row items-center gap-3"><label for=author class="w-20 text-right font-medium">Author</label><input type=text name=author id=author autocomplete=off class="flex-1 text-sm rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-black dark:text-white outline-none focus:border-zinc-500 px-2 py-1"></div><div class="flex flex-row items-center gap-3"><label for=rental class="w-20 text-right font-medium">Rental</label><input type=text name=rental id=rental autocomplete=off class="flex-1 rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-black dark:text-white outline-none focus:border-zinc-500 px-2 py-1"minlength=6 maxlength=6></div><div class="flex flex-row items-center gap-3"><label for=format class="w-20 text-right font-medium">Format</label><input type=text name=format id=format autocomplete=off class="flex-1 rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-black dark:text-white outline-none focus:border-zinc-500 px-2 py-1"></div><div class="flex flex-row items-start gap-3"><label for=notes class="w-20 text-right font-medium pt-1">Notes</label><textarea id=notes name=notes rows=4 autocomplete=off class="flex-1 text-sm rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-black dark:text-white outline-none focus:border-zinc-500 px-2 py-1 resize-y min-h-[100px] max-h-[200px] md:max-h-none"></textarea></div><div class="flex flex-row items-center gap-3"><label for=password class="w-20 text-right font-medium">Password</label><input type=text name=password id=password autocomplete=off class="flex-1 rounded border border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-700 text-black dark:text-white outline-none focus:border-zinc-500 px-2 py-1"></div><div class=mt-4><button type=submit class="w-full bg-[#c2a8d4] hover:bg-[#9770b6] text-black font-bold py-2 px-4 rounded">Submit Paste!</button></div><input type=text hidden name=data id=data></div></div></div><div class="mt-8 pt-6 flex flex-col items-center space-y-1"><div></div><a href=/about class="text-[#c2a8d4] hover:text-[#9770b6] text-base">About PokeBin</a><a href=/settings class="text-[#c2a8d4] hover:text-[#9770b6] text-base">Settings</a><span class="text-gray-600 opacity-20 text-xs">\xa9 Nelvana LLC`);let k=()=>{let[e,t]=(0,d.gQ)(),[r,i]=(0,d.gQ)(),[s,f]=(0,d.gQ)(),[b,m]=(0,d.gQ)(),[k,S]=(0,d.gQ)(),[z,$]=(0,d.gQ)(),[E,P]=(0,d.gQ)(),[C,D]=(0,d.gQ)(),[L,Q]=(0,d.gQ)(),[T,A]=(0,d.gQ)(),[O,B]=(0,d.gQ)(),[M,_]=(0,d.gQ)(),[N,H]=(0,d.gQ)(),[U,j]=(0,d.gQ)(""),[I,W]=(0,d.gQ)(""),[R,X]=(0,d.gQ)(!1),F=localStorage.getItem("darkMode"),J=!0;null!==F&&(J=JSON.parse(F));let[K,G]=(0,d.gQ)({darkMode:J});function Y(){var e;let t,r=document.getElementsByTagName("body")[0];K().darkMode?(r.classList.add("dark"),r.classList.remove("light")):(r.classList.add("light"),r.classList.remove("dark")),e=K().darkMode,(t=document.querySelector('meta[name="theme-color"]'))||((t=document.createElement("meta")).setAttribute("name","theme-color"),document.head.appendChild(t)),t.setAttribute("content",e?"#000000":"#f9f9f9")}function q(){let e=z();e&&(e.style.height="auto")}async function V(t){t.preventDefault();let i=Date.now(),c=r();if(!c)return!1;if(""===c.value)return alert("Paste cannot be empty!"),!1;let d=function(e){if(!a||!l)return -1;let t=new TextEncoder().encode(e),r=a.allocUint8(t.length);if(!r)return console.error("Failed to allocate memory"),-1;new Uint8Array(a.memory.buffer).set(t,r);let n=a.validatePaste(r,t.length);return a.resetArena(),n}(c.value);if(console.log(d),0!==d)return -1===d?alert("PokeBin encountered an issue! Please refresh and try again!"):6===d?alert("PokeBin contains too many Pokemon!"):alert("Not a valid PokeBin! If you believe this is incorrect, try re-copying from Showdown and please file an issue on GitHub."),!1;let f=s(),u=b(),x=k(),m=z(),h=E(),p=C(),w=L(),v=e();if(!f||!u||!x||!m||!h||!p||!w||!v)return!1;let y=c.value;y=y.trim();let S={title:u.value,author:x.value,notes:m.value,format:h.value,rental:p.value,content:y},$={encrypted:!1,data:S};if(""===f.value){w.value=g(JSON.stringify($));let e=Date.now();return console.log(`Processing took ${e-i}ms`),v.submit(),!0}let P=f.value,D=function(e,t){if(!n||!o)return null;let r=t.length,i=e.length,a=n.allocUint8(r+i);if(!a)return console.error("Failed to allocate memory"),null;let l=new Uint8Array(n.memory.buffer),s=new TextEncoder().encode(t),c=new TextEncoder().encode(e);for(let e=0;e<r;e++)l[a+e]=s[e];for(let e=0;e<i;e++)l[a+r+e]=c[e];if(!n.encryptMessage(a,r,i))return console.error("Failed to encrypt message"),n.resetArena(),null;let d=n.getResultPtr(),f=n.getResultLen();if(0===d||0===f)return console.error("Invalid result"),n.resetArena(),null;l=new Uint8Array(n.memory.buffer);let u=new TextDecoder().decode(l.slice(d,d+f));return n.resetArena(),u}(JSON.stringify(S),P);if(D)$.encrypted=!0,$.data=D;else throw Error("Encryption failed");w.value=g(JSON.stringify($)),f.disabled=!0;let Q=Date.now();return console.log(`Processing took ${Q-i}ms`),v.submit(),!0}return(0,d.GW)(()=>{Y()}),(0,d.H3)(async()=>{Y(),new WebSocket("/ws").onopen=async()=>{console.log("WebSocket connected to:","/ws"),W(await fetch("/live").then(e=>e.text()))},j(await fetch("/total").then(e=>e.text())),await x(),await u(),X(!0);let e=await fetch("/version");console.log(await e.text())}),(0,d.GW)(()=>{R()&&""!==U()&&""!==I()&&function(){let e=z(),t=O(),r=M(),n=N(),o=T();if(e&&t&&r&&n&&o){let i=o.clientHeight,a=window.innerHeight-r.clientHeight-n.clientHeight-t.clientHeight-i-16;e.style.maxHeight=`${a}px`}}()}),(0,d.LM)(d.di,{get when(){return(0,c.X$)(()=>""!==U())()&&""!==I()},get children(){var Z=y(),ee=Z.firstChild,et=ee.firstChild,er=et.nextSibling.firstChild,en=er.firstChild,eo=en.firstChild,ei=eo.firstChild.firstChild,ea=eo.nextSibling.firstChild,el=ea.firstChild.nextSibling,es=ea.nextSibling,ec=es.firstChild.nextSibling,ed=es.nextSibling,ef=ed.firstChild.nextSibling,eu=ed.nextSibling,eb=eu.firstChild.nextSibling,ex=eu.nextSibling,eg=ex.firstChild,em=eg.nextSibling,eh=ex.nextSibling,ep=eh.firstChild.nextSibling,ew=eh.nextSibling.nextSibling,ev=er.nextSibling,ey=ev.firstChild;return ee.addEventListener("submit",e=>V(e)),(0,c.D$)(t,ee),(0,c.D$)(i,et),(0,c.D$)(_,en),(0,c.P$)(ei,"src",p),ei.style.setProperty("height","125px"),ei.style.setProperty("width","290px"),(0,c.D$)(m,el),(0,c.D$)(S,ec),(0,c.D$)(D,ef),(0,c.D$)(P,eb),(0,c.D$)(A,eg),em.$$dblclick=q,(0,c.D$)($,em),(0,c.D$)(H,eh),(0,c.D$)(f,ep),(0,c.D$)(Q,ew),(0,c.D$)(B,ev),(0,c.$T)(ev,(0,d.LM)(d.di,{get when(){return""!==I()},get children(){var ek=w(),eS=ek.firstChild;return(0,c.$T)(ek,I,eS),ek}}),ey),(0,c.$T)(ev,(0,d.LM)(d.di,{get when(){return""!==U()},get children(){var ez=v(),e$=ez.firstChild;return(0,c.$T)(ez,U,e$),ez}}),ey),(0,c.$T)(ey,(0,d.LM)(h,{})),Z}})};(0,c.Qj)(["dblclick"]);let S=document.getElementById("root");S&&(0,c.sY)(()=>(0,d.LM)(k,{}),S)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.m=e,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=[];r.O=(t,n,o,i)=>{if(n){i=i||0;for(var a=e.length;a>0&&e[a-1][2]>i;a--)e[a]=e[a-1];e[a]=[n,o,i];return}for(var l=1/0,a=0;a<e.length;a++){for(var[n,o,i]=e[a],s=!0,c=0;c<n.length;c++)(!1&i||l>=i)&&Object.keys(r.O).every(e=>r.O[e](n[c]))?n.splice(c--,1):(s=!1,i<l&&(l=i));if(s){e.splice(a--,1);var d=o();void 0!==d&&(t=d)}}return t}})(),r.p="/",r.rv=()=>"1.3.12",(()=>{var e={95:0,980:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[a,l,s]=n,c=0;if(a.some(t=>0!==e[t])){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(s)var d=s(r)}for(t&&t(n);c<a.length;c++)i=a[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.ruid="bundler=rspack@1.3.12";var n=r.O(void 0,["365","336","95"],function(){return r(596)});n=r.O(n)})();
//# sourceMappingURL=index.057107e8.js.map