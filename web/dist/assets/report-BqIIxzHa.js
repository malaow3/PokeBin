import{r as R,b as c,d as B,c as a,o as C,t as s,i as l,S as b,e as m,f as z}from"./app-DFXuq7DK.js";var D=s('<h1 class="text-3xl font-bold mb-2 text-center">Report a Paste'),I=s('<p class="mb-4 text-center">If you believe a paste violates our Terms of Service, please submit a report.'),T=s('<p class="text-red-500 text-xs italic">Please enter a valid PokeBin link in the format https://pokebin.com/your-paste-id.'),U=s('<div class="text-red-500 text-sm mb-4">'),M=s('<form class="max-w-xl mx-auto"><div class=mb-4><label for=pasteLink class="block text-gray-300 text-sm font-bold mb-2">PokeBin Link:</label><input type=text id=pasteLink placeholder=https://pokebin.com/your-paste-id></div><div class=mb-6><label for=password class="block text-gray-300 text-sm font-bold mb-2">Password (if applicable):</label><input type=password id=password placeholder="Enter password if the paste is protected"class="shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline bg-zinc-800 text-white border-zinc-600"></div><div class="flex items-center justify-center"><button type=submit class="bg-[#c2a8d4] hover:bg-[#9770b6] text-black font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Submit Report'),N=s('<div class="text-white min-h-screen flex"><div class="container mx-auto px-4 py-8 max-w-xl">'),j=s('<h1 class="text-2xl font-bold mb-2 text-center text-green-300">Report Submitted!');const O=()=>{const[i,f]=a(""),[d,h]=a(""),[x,w]=a(!0),[_,g]=a(!1),[k,p]=a("");C(()=>{const t="/ws",r=new WebSocket(t);r.onopen=async()=>{console.log("WebSocket connected to:",t)}});const P=async t=>{if(t.preventDefault(),w(!0),p(""),!i()){alert("Please enter the PokeBin link.");return}try{const e=new URL(i());if(e.hostname!==new URL("https://pokebin.com").hostname)throw new Error("Not a PokeBin link");if(!/[a-zA-Z0-9-]+$/.test(e.pathname.slice(1)))throw new Error("Paste ID is invalid")}catch{w(!1),p("Please enter a valid PokeBin link in the format https://pokebin.com/your-paste-id.");return}const r={paste:i(),password:d()};d()===""&&(r.password=null);try{const e=await fetch("/report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!e.ok){const o=await e.text();throw new Error(`Report submission failed: ${e.status} ${e.statusText} - ${o}`)}f(""),h(""),g(!0)}catch(e){console.error("Error during report submission:",e),p("Failed to submit report. Please try again."),g(!1)}};return(()=>{var t=N(),r=t.firstChild;return l(r,c(b,{get when(){return!_()},get fallback(){return j()},get children(){return[D(),I(),(()=>{var e=M(),o=e.firstChild,S=o.firstChild,u=S.nextSibling,$=o.nextSibling,L=$.firstChild,v=L.nextSibling,E=$.nextSibling;return e.addEventListener("submit",P),u.$$input=n=>f(n.target.value),l(o,c(b,{get when(){return!x()},get children(){return T()}}),null),v.$$input=n=>h(n.target.value),l(e,c(b,{get when(){return k()},get children(){var n=U();return l(n,k),n}}),E),m(()=>z(u,`shadow appearance-none border rounded w-full py-2 px-3
                       leading-tight focus:outline-none
                       focus:shadow-outline bg-zinc-800 text-white border-zinc-600
                       ${x()?"":"border-red-500"}`)),m(()=>u.value=i()),m(()=>v.value=d()),e})()]}})),t})()},y=document.getElementById("root");y&&R(()=>c(O,{}),y);B(["input"]);
