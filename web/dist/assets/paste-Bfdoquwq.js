import{c as E,o as xe,a as _e,t as i,e as B,s as se,f as w,d as Se,b as r,S as l,i as t,F as pe,m as ne,h as Ce,j as Ee,g as J,M as we,k as Ne,l as me,r as We}from"./app-B8rwrSQN.js";import{u as Oe,i as Re}from"./settings-C9RsCmyl.js";import{S as Le}from"./settingsForm-qxOrz6ee.js";import{l as He,g as fe,c as Me,p as Be,u as Ue,a as ze,i as Ie,d as Ae,S as je}from"./web_wasm_helpers-BheoOdFI.js";var qe=i('<div id=NOCOPY style="pointer-events:none;z-index:9999;transform-origin:bottom right;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;align-items:center;white-space:nowrap"><img class="border-none outline-none shadow-none"alt="PokeBin Logo">');function Te(){const[$,X]=E(!1),[L,ie]=E("shrink"),[I,re]=E(window.innerWidth),[le,F]=E("50px"),[ae,G]=E("100px"),[de,R]=E("10px"),[ce,D]=E("0px");function Z(){const M=window.innerWidth/window.innerHeight;M>=1.84&&M<=1.864||window.innerWidth<=450?(G("75px"),F("35px"),R("55px")):window.innerWidth<=1290||window.innerWidth<=1400?(G("75px"),F("35px"),R("60px")):(R("20px"),D("15px")),window.innerWidth<=1290?L()==="shrink"&&X(!0):X(!1)}return xe(()=>{window.onresize=()=>{window.innerWidth<I()?(ie("shrink"),re(window.innerWidth)):(ie("grow"),re(window.innerWidth)),Z()},Z()}),_e(()=>{Z()}),(()=>{var M=qe(),k=M.firstChild;return B(M,"display","flex"),B(M,"width","100px"),B(M,"height","0px"),se(k,"src",He),B(k,"transform","scale(1.5)"),w(C=>{var U=$()?"fixed":"relative",Q=de(),j=ce(),Y=$()?"30px":void 0,K=$()?void 0:"30px",V=$()?"column":"row",P=le(),oe=ae();return U!==C.e&&B(M,"position",C.e=U),Q!==C.t&&B(M,"bottom",C.t=Q),j!==C.a&&B(M,"padding-bottom",C.a=j),Y!==C.o&&B(M,"right",C.o=Y),K!==C.i&&B(M,"left",C.i=K),V!==C.n&&B(M,"flex-direction",C.n=V),P!==C.s&&B(k,"height",C.s=P),oe!==C.h&&B(k,"width",C.h=oe),C},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),M})()}var Fe=i('<h1 class="text-[#c2a8d4] text-2xl font-semibold"id=title style=user-select:none>'),De=i("<p class=text-base id=author style=user-select:none>"),Qe=i("<p class=text-base id=format style=user-select:none>Format: "),Ve=i("<p class=text-base id=rental style=user-select:none>Rental: "),Pe=i("<div role=note class=metadata id=metadata style=user-select:none;min-width:125px>"),Je=i('<button class="cursor-pointer h-[30px] font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black w-[175px] mt-1 py-1 border-none rounded"type=button>'),Ge=i('<div role=note class="notes-content bg-zinc-600 border border-ccc p-5 rounded shadow-lg z-20"style=user-select:none;z-index:2><p id=notes class=!text-white>'),Ye=i('<div class="flex flex-row gap-4 align-middle mt-2"><button type=button class="bg-[#c2a8d4] hover:bg-[#9770b6] text-black px-4 py-0 rounded text-base font-bold">Create OTS'),Ke=i('<div class="fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-100 !text-white"tabindex=-1><div class="relative bg-zinc-800 rounded-lg p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-lg"tabindex=0><button type=button class="absolute top-2 right-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"aria-label="Close modal">✕</button><h2 class="text-xl font-semibold mb-4">Settings'),Xe=i('<div class="fixed inset-0 bg-black/40 flex items-center justify-center z-200"tabindex=-1><div class="bg-white rounded-lg p-6 shadow-lg relative"tabindex=0><button type=button class="absolute top-2 right-2 text-gray-500 hover:text-gray-700"aria-label="Close QR modal">✕</button><img id=qr-code alt="QR Code"class="max-w-full max-h-[60vh] mx-auto">'),Ze=i('<div class=content-wrapper><div class=side-content id=sidebar><div class="sidebar-inner md:ml-10 md:mr-2"><div class="notes-section my-1"></div></div><div id=buttons><div class=button-col><button type=submit class="cursor-pointer w-[175px] h-[30px] copy-button font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black py-1 rounded"style=user-select:none></button><button type=submit class="cursor-pointer w-[175px] h-[30px] copy-button font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black py-1 rounded"style=user-select:none></button></div><div class=button-col><button class="cursor-pointer h-[30px] font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black w-[175px] py-1 rounded"type=button style=user-select:none>Settings</button><button class="cursor-pointer h-[30px] font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black w-[175px] py-1 rounded"type=button style=user-select:none>QR</button></div></div></div><div class=main></div><br>'),ke=i("<span class=img-item>"),ve=i("<span>"),et=i("<span> @ "),tt=i("<span class=inline-element>"),nt=i("<div class=attribute-line><span class=attr>Ability:</span> "),rt=i("<div class=attribute-line><span class=attr>Level:</span> "),lt=i("<div class=attribute-line><span class=attr>Shiny:</span> "),st=i("<div class=attribute-line><span class=attr>Hidden Power:</span> <span>"),it=i("<div class=attribute-line><span class=attr>Tera Type:</span> <span>"),at=i("<span class=stat-hp> HP"),dt=i("<span class=stat-atk> Atk"),ct=i("<span class=stat-def> Def"),ot=i("<span class=stat-spa> SpA"),ut=i("<span class=stat-spd> SpD"),ht=i("<span class=stat-spe> Spe"),gt=i("<div class=attribute-line><span class=attr>EVs: "),$t=i("<span class=attr> Nature"),vt=i("<div class=attribute-line><span class=attr>"),ee=i("<span style=font-size:1px> "),ge=i("<span>/"),bt=i("<div class=attribute-line><span class=attr>IVs: "),_t=i('<article><div class="img mr-2"><img class=img-pokemon></div><div class=paste><div id=mon_title></div><br class=display-none style=line-height:0px>'),pt=i("<span>- "),ft=i("<div class=move-line>"),wt=i("<span>-"),mt=i("<span> ");function yt($){const X=$.paste,L=$.setSelectable,ie=$.setShowNotes,I=$.showNotes,re=$.setNotesOpacity,le=$.makeOpaqueOnFocus,F=$.makeTransparentOnMouseover,ae=$.notesWidth,G=$.notesOpacity,de=$.copyPaste,R=$.setShowModal,ce=$.showModal,D=$.sett,Z=$.setSett,M=$.isEncrypted,k=$.handleCreateOts,[C,U]=E(!1),[Q,j]=E(""),[Y,K]=E("Copy"),[V,P]=E(!1),[oe,ue]=E("Screenshot");return r(l,{get when(){return X()},children:O=>(()=>{var b=Ze(),h=b.firstChild,y=h.firstChild,S=y.firstChild,T=y.nextSibling,x=T.firstChild,m=x.firstChild,N=m.nextSibling,A=x.nextSibling,z=A.firstChild,q=z.nextSibling,H=h.nextSibling;return H.nextSibling,t(y,r(l,{get when(){return O().title!==""||O().author!==""||O().format!==""||O().rental!==""},get children(){var n=Pe();return n.addEventListener("blur",()=>L(!1,"metadata")),n.$$mouseout=()=>L(!1,"metadata"),n.addEventListener("focus",()=>L(!0,"metadata")),n.$$mouseover=()=>L(!0,"metadata"),t(n,r(l,{get when(){return O().title!==""},get children(){var v=Fe();return w(e=>{var a=O().title,o=O().title;return a!==e.e&&se(v,"aria-label",e.e=a),o!==e.t&&(v.innerHTML=e.t=o),e},{e:void 0,t:void 0}),v}}),null),t(n,r(l,{get when(){return O().author!==""},get children(){var v=De();return w(()=>v.innerHTML=`By: ${O().author}`),v}}),null),t(n,r(l,{get when(){return O().format!==""},get children(){var v=Qe();return v.firstChild,t(v,()=>O().format,null),v}}),null),t(n,r(l,{get when(){return O().rental!==""},get children(){var v=Ve();return v.firstChild,t(v,()=>O().rental,null),v}}),null),n}}),S),t(S,r(l,{get when(){return O().notes!==""},get children(){return[(()=>{var n=Je();return n.$$click=()=>{ie(!I());const v=document.getElementsByClassName("notes-content");if(v.length>0){const e=v[0];e.getBoundingClientRect().top<0&&(e.style.top="0px")}I()&&re(1)},t(n,()=>I()?"Hide notes":"Show notes"),n})(),r(l,{get when(){return I()},get children(){var n=Ge(),v=n.firstChild;return n.addEventListener("blur",()=>{F(),L(!1,"notes")}),n.$$mouseout=()=>{F(),L(!1,"notes")},n.addEventListener("focus",()=>{le(),L(!0,"notes")}),n.$$mouseover=()=>{le(),L(!0,"notes")},w(e=>{var a=ae(),o=G(),_=O().notes.replace(/\n/g,"<br />");return a!==e.e&&B(n,"width",e.e=a),o!==e.t&&B(n,"opacity",e.t=o),_!==e.a&&(v.innerHTML=e.a=_),e},{e:void 0,t:void 0,a:void 0}),n}})]}})),m.$$click=async()=>{console.log("Fetching screenshot...");let n=!1;for(;;){if(V())return;P(!0),ue("Generating...");const v=fe(),e=new EventSource(`/api/screenshot?id=${v}`);n||(n=!0,alert("Generating your screenshot, this may take some time! Please do not refresh or close the page.")),e.onmessage=a=>{const o=JSON.parse(a.data);if(console.log(o),o.status==="done"){const _=new Uint8Array(o.data),f=new Blob([_],{type:"image/png"}),s=URL.createObjectURL(f),u=document.createElement("a");u.href=s,u.download="screenshot.png",document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(s),e.close(),P(!1),ue("Screenshot");return}o.status==="waiting"&&ue("Waiting...")},e.onerror=a=>{console.error("SSE error:",a),e.close(),P(!1),ue("Screenshot")}}},t(m,oe),N.$$click=async()=>{await de(),K("Copied!"),setTimeout(()=>{K("Copy")},2e3)},t(N,Y),z.$$click=()=>R(!0),q.$$click=async()=>{const n=window.location.href,e=`https://pokebin.com/${n.substring(n.lastIndexOf("/")+1)}`,a=Me(e);a!==void 0&&(j(a),U(!0))},t(H,r(pe,{get each(){return O().pokemon},children:n=>(()=>{var v=_t(),e=v.firstChild,a=e.firstChild,o=e.nextSibling,_=o.firstChild,f=_.nextSibling;return t(e,r(l,{get when(){return n.item_image!==""},get children(){var s=ke();return w(u=>Ee(s,n.item_image,u)),s}}),a),t(_,r(l,{get when(){return n.nickname!==""},get fallback(){return[(()=>{var s=ve();return t(s,()=>n.name),w(()=>J(s,`type-${n.type1} inline-element`)),s})(),r(l,{get when(){return n.gender!==""},get children(){var s=ve();return w(()=>s.innerHTML=` (<span class="inline-element gender-${n.gender}">${n.gender}</span>)`),s}})]},get children(){return[ne(()=>n.nickname)," (",(()=>{var s=ve();return t(s,()=>n.name),w(()=>J(s,`type-${n.type1} inline-element`)),s})(),")",r(l,{get when(){return n.gender!==""},get children(){var s=ve();return w(()=>s.innerHTML=` (<span class="inline-element gender-${n.gender}">${n.gender}</span>)`),s}})]}}),null),t(_,r(l,{get when(){return n.item!==""},get children(){return[et(),(()=>{var s=tt();return w(()=>s.innerHTML=`${n.item.trim()}`),s})()]}}),null),t(o,r(l,{get when(){return n.ability!==""},get children(){var s=nt(),u=s.firstChild;return u.nextSibling,t(s,()=>n.ability,null),s}}),f),t(o,r(l,{get when(){return n.level!==100},get children(){var s=rt(),u=s.firstChild;return u.nextSibling,t(s,()=>n.level,null),s}}),f),t(o,r(l,{get when(){return n.shiny!==""},get children(){var s=lt(),u=s.firstChild;return u.nextSibling,t(s,()=>n.shiny,null),s}}),f),t(o,r(l,{get when(){return n.hidden_power!==""},get children(){var s=st(),u=s.firstChild,p=u.nextSibling,W=p.nextSibling;return t(W,()=>n.hidden_power),w(()=>J(W,`type-${n.hidden_power}`)),s}}),f),t(o,r(l,{get when(){return n.tera_type!==""},get children(){var s=it(),u=s.firstChild,p=u.nextSibling,W=p.nextSibling;return t(W,()=>n.tera_type),w(()=>J(W,`type-${n.tera_type}`)),s}}),f),t(o,r(l,{get when(){return n.last_stat_ev!==""},get children(){var s=gt();return s.firstChild,t(s,r(l,{get when(){return n.evs[0]!==0},get children(){return[(()=>{var u=at(),p=u.firstChild;return t(u,()=>n.evs[0],p),u})(),r(l,{get when(){return n.last_stat_ev!=="hp"},children:"/"})]}}),null),t(s,r(l,{get when(){return n.evs[1]!==0},get children(){return[(()=>{var u=dt(),p=u.firstChild;return t(u,()=>n.evs[1],p),u})(),r(l,{get when(){return n.last_stat_ev!=="atk"},children:"/"})]}}),null),t(s,r(l,{get when(){return n.evs[2]!==0},get children(){return[(()=>{var u=ct(),p=u.firstChild;return t(u,()=>n.evs[2],p),u})(),r(l,{get when(){return n.last_stat_ev!=="def"},children:"/"})]}}),null),t(s,r(l,{get when(){return n.evs[3]!==0},get children(){return[(()=>{var u=ot(),p=u.firstChild;return t(u,()=>n.evs[3],p),u})(),r(l,{get when(){return n.last_stat_ev!=="spa"},children:"/"})]}}),null),t(s,r(l,{get when(){return n.evs[4]!==0},get children(){return[(()=>{var u=ut(),p=u.firstChild;return t(u,()=>n.evs[4],p),u})(),r(l,{get when(){return n.last_stat_ev!=="spd"},children:"/"})]}}),null),t(s,r(l,{get when(){return n.evs[5]!==0},get children(){var u=ht(),p=u.firstChild;return t(u,()=>n.evs[5],p),u}}),null),s}}),f),t(o,r(l,{get when(){return n.nature!==""},get children(){var s=vt(),u=s.firstChild;return t(u,()=>n.nature),t(s,r(l,{get when(){return!n.nature.endsWith(" Nature")},get children(){return $t()}}),null),s}}),f),t(o,r(l,{get when(){return n.last_stat_iv!==""},get children(){var s=bt();return s.firstChild,t(s,r(l,{get when(){return n.ivs[0]!==31},get children(){return[ne(()=>n.ivs[0])," HP",r(l,{get when(){return n.last_stat_iv!=="hp"},get children(){return[ee(),ge(),ee()]}})]}}),null),t(s,r(l,{get when(){return n.ivs[1]!==31},get children(){return[ne(()=>n.ivs[1])," Atk",r(l,{get when(){return n.last_stat_iv!=="atk"},get children(){return[ee(),ge(),ee()]}})]}}),null),t(s,r(l,{get when(){return n.ivs[2]!==31},get children(){return[ne(()=>n.ivs[2])," Def",r(l,{get when(){return n.last_stat_iv!=="def"},get children(){return[ee(),ge(),ee()]}})]}}),null),t(s,r(l,{get when(){return n.ivs[3]!==31},get children(){return[ne(()=>n.ivs[3])," SpA",r(l,{get when(){return n.last_stat_iv!=="spa"},get children(){return[ee(),ge(),ee()]}})]}}),null),t(s,r(l,{get when(){return n.ivs[4]!==31},get children(){return[ne(()=>n.ivs[4])," SpD",r(l,{get when(){return n.last_stat_iv!=="spd"},get children(){return[ee(),ge(),ee()]}})]}}),null),t(s,r(l,{get when(){return n.ivs[5]!==31},get children(){return[ne(()=>n.ivs[5])," Spe"]}}),null),s}}),f),t(o,r(pe,{get each(){return n.moves},children:s=>(()=>{var u=ft();return t(u,r(l,{get when(){return D().moveColors},get fallback(){return[(()=>{var p=wt();return w(()=>J(p,`type-${s.type1}`)),p})(),(()=>{var p=mt();return p.firstChild,B(p,"color","white"),t(p,()=>s.name,null),p})()]},get children(){var p=pt();return p.firstChild,t(p,()=>s.name,null),w(()=>J(p,`type-${s.type1}`)),p}})),u})()}),f),w(s=>{var u=n.pokemon_image,p=n.name;return u!==s.e&&se(a,"src",s.e=u),p!==s.t&&se(a,"alt",s.t=p),s},{e:void 0,t:void 0}),v})()})),t(b,r(Te,{}),null),t(b,r(l,{get when(){return ce()},get children(){var n=Ke(),v=n.firstChild,e=v.firstChild;return e.nextSibling,n.$$keydown=a=>a.stopPropagation(),n.$$click=()=>R(!1),v.$$keydown=a=>a.stopPropagation(),v.$$click=a=>a.stopPropagation(),e.$$click=()=>R(!1),t(v,r(Le,{get settings(){return D()},onChange:(a,o)=>{Oe(a,o,D,Z)},get children(){return r(l,{get when(){return ne(()=>!O().isOts)()&&!M()},get children(){var a=Ye(),o=a.firstChild;return Ce(o,"click",k),a}})}}),null),n}}),null),t(b,r(l,{get when(){return C()},get children(){var n=Xe(),v=n.firstChild,e=v.firstChild,a=e.nextSibling;return n.$$click=()=>{U(!1),URL.revokeObjectURL(Q()),j("")},n.$$keydown=o=>o.stopPropagation(),v.$$keydown=o=>o.stopPropagation(),v.$$click=o=>o.stopPropagation(),e.$$click=()=>{U(!1),URL.revokeObjectURL(Q()),j("")},w(()=>se(a,"src",Q())),n}}),null),w(()=>m.disabled=V()),b})()})}Se(["mouseover","mouseout","click","keydown"]);var xt=i('<h1 class="text-[#c2a8d4] text-2xl font-semibold"id=title style=user-select:none>'),St=i("<p class=text-base id=author style=user-select:none>"),Ct=i("<p class=text-base id=format style=user-select:none>Format: "),Et=i("<p class=text-base id=rental style=user-select:none>Rental: "),Ot=i("<div role=note class=metadata id=metadata style=user-select:none;min-width:125px>"),Lt=i('<button class="cursor-pointer h-[30px] font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black w-[175px] mt-1 py-1 border-none rounded"type=button>'),Mt=i('<div role=note class="notes-content bg-zinc-600 border border-ccc p-5 rounded shadow-lg z-20"style=user-select:none;z-index:2><p id=notes class=!text-white>'),Tt=i('<div class="flex flex-row gap-4 align-middle mt-2"><button type=button class="bg-[#c2a8d4] hover:bg-[#9770b6] text-black px-4 py-0 rounded text-base font-bold">Create OTS'),Nt=i('<div class="fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-100 !text-white"tabindex=-1><div class="relative bg-zinc-800 rounded-lg p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-lg"tabindex=0><button type=button class="absolute top-2 right-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"aria-label="Close modal">✕</button><h2 class="text-xl font-semibold mb-4">Settings'),Wt=i('<div class="fixed inset-0 bg-black/40 flex items-center justify-center z-200"tabindex=-1><div class="bg-white rounded-lg p-6 shadow-lg relative"tabindex=0><button type=button class="absolute top-2 right-2 text-gray-500 hover:text-gray-700"aria-label="Close QR modal">✕</button><img id=qr-code alt="QR Code"class="max-w-full max-h-[60vh] mx-auto">'),Rt=i('<div class=content-wrapper><div class=side-content id=sidebar><div class="sidebar-inner md:ml-10 md:mr-2"><div class="notes-section my-1"></div></div><div id=buttons><div class=button-col><button type=submit class="cursor-pointer w-[175px] h-[30px] copy-button font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black py-1 rounded"style=user-select:none></button><button type=submit class="cursor-pointer w-[175px] h-[30px] copy-button font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black py-1 rounded"style=user-select:none></button></div><div class=button-col><button class="cursor-pointer h-[30px] font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black w-[175px] py-1 rounded"type=button style=user-select:none>Settings</button><button class="cursor-pointer h-[30px] font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black w-[175px] py-1 rounded"type=button style=user-select:none>QR</button></div></div></div><div class=main></div><br>'),Ht=i("<span class=img-item>"),be=i("<span>"),Bt=i("<span>[<!>]"),Ut=i("<span> @ "),zt=i("<span class=inline-element>"),It=i("<div class=attribute-line>"),At=i("<span class=stat-hp> HP"),jt=i("<span class=stat-atk> Atk"),qt=i("<span class=stat-def> Def"),Ft=i("<span class=stat-spa> SpA"),Dt=i("<span class=stat-spd> SpD"),Qt=i("<span class=stat-spe> Spe"),Vt=i("<div class=attribute-line><span>EVs: "),Pt=i("<div class=attribute-line><span>"),Jt=i("<div class=attribute-line><span> Nature"),Gt=i("<span> HP"),te=i("<span style=font-size:1px> "),$e=i("<span>/"),Yt=i("<span> Atk"),Kt=i("<span> Def"),Xt=i("<span> SpA"),Zt=i("<span> SpD"),kt=i("<span> Spe"),en=i("<div class=attribute-line><span>IVs: "),tn=i("<div class=attribute-line><span class=attr>Level:</span> "),nn=i("<div class=attribute-line><span class=attr>Shiny:</span> "),rn=i("<div class=attribute-line><span class=attr>Hidden Power:</span> <span>"),ln=i("<div class=attribute-line><span class=attr>Tera Type:</span> <span>"),sn=i('<article><div class="img mr-2"><img class=img-pokemon></div><div class=paste><div id=mon_title></div><br class=display-none style=line-height:-10px>'),an=i("<span>- "),dn=i("<div class=move-line>"),cn=i("<span>-"),on=i("<span> ");function un($){const X=$.paste,L=$.setSelectable,ie=$.setShowNotes,I=$.showNotes,re=$.setNotesOpacity,le=$.makeOpaqueOnFocus,F=$.makeTransparentOnMouseover,ae=$.notesWidth,G=$.notesOpacity,de=$.copyPaste,R=$.setShowModal,ce=$.showModal,D=$.sett,Z=$.setSett,M=$.isEncrypted,k=$.handleCreateOts,[C,U]=E(!1),[Q,j]=E(!1),[Y,K]=E(""),[V,P]=E("Copy"),[oe,ue]=E("Screenshot");function O(h){U(h)}function b(h){ue(h)}return r(l,{get when(){return X()},children:h=>(()=>{var y=Rt(),S=y.firstChild,T=S.firstChild,x=T.firstChild,m=T.nextSibling,N=m.firstChild,A=N.firstChild,z=A.nextSibling,q=N.nextSibling,H=q.firstChild,n=H.nextSibling,v=S.nextSibling;return v.nextSibling,t(T,r(l,{get when(){return h().title!==""||h().author!==""||h().format!==""||h().rental!==""},get children(){var e=Ot();return e.addEventListener("blur",()=>L(!1,"metadata")),e.$$mouseout=()=>L(!1,"metadata"),e.addEventListener("focus",()=>L(!0,"metadata")),e.$$mouseover=()=>L(!0,"metadata"),t(e,r(l,{get when(){return h().title!==""},get children(){var a=xt();return w(o=>{var _=h().title,f=h().title;return _!==o.e&&se(a,"aria-label",o.e=_),f!==o.t&&(a.innerHTML=o.t=f),o},{e:void 0,t:void 0}),a}}),null),t(e,r(l,{get when(){return h().author!==""},get children(){var a=St();return w(()=>a.innerHTML=`By: ${h().author}`),a}}),null),t(e,r(l,{get when(){return h().format!==""},get children(){var a=Ct();return a.firstChild,t(a,()=>h().format,null),a}}),null),t(e,r(l,{get when(){return h().rental!==""},get children(){var a=Et();return a.firstChild,t(a,()=>h().rental,null),a}}),null),e}}),x),t(x,r(l,{get when(){return h().notes!==""},get children(){return[(()=>{var e=Lt();return e.$$click=()=>{ie(!I());const a=document.getElementsByClassName("notes-content");if(a.length>0){const o=a[0];o.getBoundingClientRect().top<0&&(o.style.top="0px")}I()&&re(1)},t(e,()=>I()?"Hide notes":"Show notes"),e})(),r(l,{get when(){return I()},get children(){var e=Mt(),a=e.firstChild;return e.addEventListener("blur",()=>{F(),L(!1,"notes")}),e.$$mouseout=()=>{F(),L(!1,"notes")},e.addEventListener("focus",()=>{le(),L(!0,"notes")}),e.$$mouseover=()=>{le(),L(!0,"notes")},w(o=>{var _=ae(),f=G(),s=h().notes.replace(/\n/g,"<br />");return _!==o.e&&B(e,"width",o.e=_),f!==o.t&&B(e,"opacity",o.t=f),s!==o.a&&(a.innerHTML=o.a=s),o},{e:void 0,t:void 0,a:void 0}),e}})]}})),A.$$click=async()=>{console.log("Fetching screenshot...");let e=!1;for(;;){if(C())return;O(!0),b("Generating...");const a=fe(),o=new EventSource(`/api/screenshot?id=${a}`);e||(e=!0,alert("Generating your screenshot, this may take some time! Please do not refresh or close the page.")),o.onmessage=_=>{const f=JSON.parse(_.data);if(console.log(f),f.status==="done"){const s=new Uint8Array(f.data),u=new Blob([s],{type:"image/png"}),p=URL.createObjectURL(u),W=document.createElement("a");W.href=p,W.download="screenshot.png",document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(p),o.close(),O(!1),b("Screenshot");return}f.status==="waiting"&&b("Waiting...")},o.onerror=_=>{console.error("SSE error:",_),o.close(),O(!1),b("Screenshot")}}},t(A,oe),z.$$click=async()=>{await de(),P("Copied!"),setTimeout(()=>{P("Copy")},2e3)},t(z,V),H.$$click=()=>R(!0),n.$$click=async()=>{const e=window.location.href,o=`https://pokebin.com/${e.substring(e.lastIndexOf("/")+1)}`,_=Me(o);_!==void 0&&(K(_),j(!0))},t(v,r(pe,{get each(){return h().pokemon},children:e=>{const a=e.evs.map(_=>_!==0?_.toString():"");let o=!0;for(const _ of a)_!==""&&(o=!1);return(()=>{var _=sn(),f=_.firstChild,s=f.firstChild,u=f.nextSibling,p=u.firstChild,W=p.nextSibling;return t(f,r(l,{get when(){return e.item_image!==""},get children(){var c=Ht();return w(d=>Ee(c,e.item_image,d)),c}}),s),t(p,r(l,{get when(){return e.nickname!==""},get fallback(){return[(()=>{var c=be();return t(c,()=>e.name),w(()=>J(c,`type-${e.type1} inline-element`)),c})(),r(l,{get when(){return e.gender!==""},get children(){var c=be();return w(()=>c.innerHTML=` (<span class="inline-element gender-${e.gender}">${e.gender}</span>)`),c}})]},get children(){return[ne(()=>e.nickname)," (",(()=>{var c=be();return t(c,()=>e.name),w(()=>J(c,`type-${e.type1} inline-element`)),c})(),")",r(l,{get when(){return e.gender!==""},get children(){var c=be();return w(()=>c.innerHTML=` (<span class="inline-element gender-${e.gender}">${e.gender}</span>)`),c}})]}})),t(u,r(l,{get when(){return e.ability!==""||e.item!==""},get children(){var c=It();return t(c,r(l,{get when(){return e.ability!==""},get children(){var d=Bt(),g=d.firstChild,he=g.nextSibling;return he.nextSibling,t(d,()=>e.ability,he),d}}),null),t(c,r(l,{get when(){return e.item!==""},get children(){return[Ut(),(()=>{var d=zt();return w(()=>d.innerHTML=`${e.item.trim()}`),d})()]}}),null),c}}),W),t(u,r(pe,{get each(){return e.moves},children:c=>(()=>{var d=dn();return t(d,r(l,{get when(){return D().moveColors},get fallback(){return[(()=>{var g=cn();return w(()=>J(g,`type-${c.type1}`)),g})(),(()=>{var g=on();return g.firstChild,B(g,"color","white"),t(g,()=>c.name,null),g})()]},get children(){var g=an();return g.firstChild,t(g,()=>c.name,null),w(()=>J(g,`type-${c.type1}`)),g}})),d})()}),W),t(u,r(l,{get when(){return!h().isOts&&!o},get children(){return[(()=>{var c=Vt();return c.firstChild,t(c,r(l,{get when(){return a[0]!==""},get children(){return[(()=>{var d=At(),g=d.firstChild;return t(d,()=>a[0],g),d})(),r(l,{get when(){return e.last_stat_ev!=="hp"},children:"/"})]}}),null),t(c,r(l,{get when(){return a[1]!==""},get children(){return[(()=>{var d=jt(),g=d.firstChild;return t(d,()=>a[1],g),d})(),r(l,{get when(){return e.last_stat_ev!=="atk"},children:"/"})]}}),null),t(c,r(l,{get when(){return a[2]!==""},get children(){return[(()=>{var d=qt(),g=d.firstChild;return t(d,()=>a[2],g),d})(),r(l,{get when(){return e.last_stat_ev!=="def"},children:"/"})]}}),null),t(c,r(l,{get when(){return a[3]!==""},get children(){return[(()=>{var d=Ft(),g=d.firstChild;return t(d,()=>a[3],g),d})(),r(l,{get when(){return e.last_stat_ev!=="spa"},children:"/"})]}}),null),t(c,r(l,{get when(){return a[4]!==""},get children(){return[(()=>{var d=Dt(),g=d.firstChild;return t(d,()=>a[4],g),d})(),r(l,{get when(){return e.last_stat_ev!=="spd"},children:"/"})]}}),null),t(c,r(l,{get when(){return a[5]!==""},get children(){var d=Qt(),g=d.firstChild;return t(d,()=>a[5],g),d}}),null),c})(),r(l,{get when(){return e.nature!==""},get children(){return[r(l,{get when(){return e.nature.endsWith("Nature")},get children(){var c=Pt(),d=c.firstChild;return t(d,()=>e.nature),c}}),r(l,{get when(){return!e.nature.endsWith("Nature")},get children(){var c=Jt(),d=c.firstChild,g=d.firstChild;return t(d,()=>e.nature,g),c}})]}}),r(l,{get when(){return e.last_stat_iv!==""},get children(){var c=en();return c.firstChild,t(c,r(l,{get when(){return e.ivs[0]!==31},get children(){return[(()=>{var d=Gt(),g=d.firstChild;return t(d,()=>e.ivs[0],g),d})(),r(l,{get when(){return e.last_stat_iv!=="hp"},get children(){return[te(),$e(),te()]}})]}}),null),t(c,r(l,{get when(){return e.ivs[1]!==31},get children(){return[(()=>{var d=Yt(),g=d.firstChild;return t(d,()=>e.ivs[1],g),d})(),r(l,{get when(){return e.last_stat_iv!=="atk"},get children(){return[te(),$e(),te()]}})]}}),null),t(c,r(l,{get when(){return e.ivs[2]!==31},get children(){return[(()=>{var d=Kt(),g=d.firstChild;return t(d,()=>e.ivs[2],g),d})(),r(l,{get when(){return e.last_stat_iv!=="def"},get children(){return[te(),$e(),te()]}})]}}),null),t(c,r(l,{get when(){return e.ivs[3]!==31},get children(){return[(()=>{var d=Xt(),g=d.firstChild;return t(d,()=>e.ivs[3],g),d})(),r(l,{get when(){return e.last_stat_iv!=="spa"},get children(){return[te(),$e(),te()]}})]}}),null),t(c,r(l,{get when(){return e.ivs[4]!==31},get children(){return[(()=>{var d=Zt(),g=d.firstChild;return t(d,()=>e.ivs[4],g),d})(),r(l,{get when(){return e.last_stat_iv!=="spd"},get children(){return[te(),$e(),te()]}})]}}),null),t(c,r(l,{get when(){return e.ivs[5]!==31},get children(){var d=kt(),g=d.firstChild;return t(d,()=>e.ivs[5],g),d}}),null),c}})]}}),W),t(u,r(l,{get when(){return e.level!==100},get children(){var c=tn(),d=c.firstChild;return d.nextSibling,t(c,()=>e.level,null),c}}),W),t(u,r(l,{get when(){return e.shiny!==""},get children(){var c=nn(),d=c.firstChild;return d.nextSibling,t(c,()=>e.shiny,null),c}}),W),t(u,r(l,{get when(){return e.hidden_power!==""},get children(){var c=rn(),d=c.firstChild,g=d.nextSibling,he=g.nextSibling;return t(he,()=>e.hidden_power),w(()=>J(he,`type-${e.hidden_power}`)),c}}),W),t(u,r(l,{get when(){return e.tera_type!==""},get children(){var c=ln(),d=c.firstChild,g=d.nextSibling,he=g.nextSibling;return t(he,()=>e.tera_type),w(()=>J(he,`type-${e.tera_type}`)),c}}),W),w(c=>{var d=e.pokemon_image,g=e.name;return d!==c.e&&se(s,"src",c.e=d),g!==c.t&&se(s,"alt",c.t=g),c},{e:void 0,t:void 0}),_})()}})),t(y,r(Te,{}),null),t(y,r(l,{get when(){return ce()},get children(){var e=Nt(),a=e.firstChild,o=a.firstChild;return o.nextSibling,e.$$keydown=_=>_.stopPropagation(),e.$$click=()=>R(!1),a.$$keydown=_=>_.stopPropagation(),a.$$click=_=>_.stopPropagation(),o.$$click=()=>R(!1),t(a,r(Le,{get settings(){return D()},onChange:(_,f)=>{Oe(_,f,D,Z)},get children(){return r(l,{get when(){return ne(()=>!h().isOts)()&&!M()},get children(){var _=Tt(),f=_.firstChild;return Ce(f,"click",k),_}})}}),null),e}}),null),t(y,r(l,{get when(){return Q()},get children(){var e=Wt(),a=e.firstChild,o=a.firstChild,_=o.nextSibling;return e.$$click=()=>{j(!1),URL.revokeObjectURL(Y()),K("")},e.$$keydown=f=>f.stopPropagation(),a.$$keydown=f=>f.stopPropagation(),a.$$click=f=>f.stopPropagation(),o.$$click=()=>{j(!1),URL.revokeObjectURL(Y()),K("")},w(()=>se(_,"src",Y())),e}}),null),w(()=>A.disabled=C()),y})()})}Se(["mouseover","mouseout","click","keydown"]);function hn($){return $.split(`
`).filter(X=>!/^\s*(IVs:|EVs:)/i.test(X)).join(`
`)}const gn=()=>{const[$,X]=E(null),[L,ie]=E(!1),[I,re]=E(""),[le,F]=E(null),[ae,G]=E(!1),[de,R]=E(1),[ce,D]=E("300px"),[Z,M]=E(!1);function k(b){const h=document.getElementById("theme-color-meta");h&&h.setAttribute("content",b?"#000000":"#f9f9f9")}async function C(){if(L())return;const b=I();if(!b)return;let h;try{h={encrypted:!1,data:JSON.parse(b)}}catch{return}h.data.content=hn(h.data.content);const y=document.createElement("form");y.method="POST",y.action="/create",y.style.display="none";function S(x,m){const N=document.createElement("input");N.type="hidden",N.name=x,N.value=m,y.appendChild(N)}const T=Ue(JSON.stringify(h));S("data",T),document.body.appendChild(y),y.submit()}const{sett:U,setSett:Q}=Re();function j(){R(.2)}function Y(){R(1)}function K(b){const h=document.createElement("textarea");h.innerHTML=b;const y=h.value;return h.remove(),y}function V(){const b=document.getElementsByTagName("main")[0],h=document.getElementById("sidebar"),y=document.getElementById("notes");if(!b&&!h&&!y)return;const S=document.getElementsByTagName("article");let T=S.length;S.length>4&&(T=4);const x=window.innerWidth;for(let m=0;m<T;m++)if(x>1024){const N=Math.floor(window.innerHeight*.02);S[m].style.marginBottom=`${N}px`}if(x<=1024)D("300px");else{const m=x-420,N=Math.min(Math.max(m,300),600);D(`${N}px`)}}function P(b,h){const y=document.getElementById(h);if(y===null)return;b?y.style.userSelect="text":y.style.userSelect="auto";const S=y.children,T=[];for(let x=0;x<S.length;x++)T.push(S[x]);for(;T.length>0;){const x=T.pop();if(x==null)break;for(let m=0;m<x.children.length;m++)T.push(x.children[m]);if(b)for(let m=0;m<S.length;m++)x.style.userSelect="auto";else for(let m=0;m<S.length;m++)x.style.userSelect="none"}}async function oe(){console.log("Copying paste to clipboard...");const b=document.getElementsByClassName("main")[0];if(!b)return;let h="";b.querySelectorAll("article").forEach((S,T)=>{var A;const x=S.querySelector("#mon_title");x&&(h+=`${(A=x.textContent)==null?void 0:A.trim()}
`),S.querySelectorAll(".attribute-line").forEach((z,q)=>{var H;h+=`${(H=z.textContent)==null?void 0:H.trim()}
`}),S.querySelectorAll(".move-line").forEach((z,q)=>{var H;h+=`${(H=z.textContent)==null?void 0:H.trim()}
`}),h+=`
`}),console.log(h.trim()),await navigator.clipboard.writeText(h.trim()),console.log("Paste copied to clipboard.")}async function ue(){console.log("Copying paste to clipboard...");const b=document.getElementsByClassName("main")[0];if(!b)return;let h="";b.querySelectorAll("article").forEach((S,T)=>{var z,q;const x=S.querySelector("#mon_title");x&&(h+=`${(z=x.textContent)==null?void 0:z.trim()}
`);const m=S.querySelector("#ability-item");m&&(h+=`${(q=m.textContent)==null?void 0:q.trim()}
`),S.querySelectorAll(".move-line").forEach((H,n)=>{var v;h+=`${(v=H.textContent)==null?void 0:v.trim()}
`}),S.querySelectorAll(".attribute-line").forEach((H,n)=>{var v;h+=`${(v=H.textContent)==null?void 0:v.trim()}
`}),h+=`
`}),console.log(h.trim()),await navigator.clipboard.writeText(h.trim()),console.log("Paste copied to clipboard.")}_e(()=>{const b=le();b&&(document.title=K(b)),window.addEventListener("resize",V)}),_e(()=>{if(!I())return;const b=Be(I(),U().twoDImages);X(b),b&&F(b.title)});function O(){const b=document.getElementsByTagName("body")[0];U().darkMode?(b.classList.add("dark"),b.classList.remove("light")):(b.classList.add("light"),b.classList.remove("dark")),k(U().darkMode)}return _e(()=>{O()}),xe(async()=>{const b=fe(),y=await(await fetch(`/${b}/json`)).json();await ze(),await Ie();const S="/ws",T=new WebSocket(S);if(T.onopen=async()=>{console.log("WebSocket connected to:",S)},y.encrypted){ie(!0);let A=!1,z="Enter password";for(;!A;){let q=prompt(z,"");for(;q===""||q===null;)z="Enter password",q=prompt(z,"");const H=Ae(y.data,q);H==null?z="Invalid password":(re(H),A=!0)}}else re(JSON.stringify(y.data));O(),window.addEventListener("resize",V),V(),me(()=>{window.removeEventListener("resize",V)});const x=A=>{A.key==="Escape"&&M(!1)};window.addEventListener("keydown",x),me(()=>window.removeEventListener("keydown",x));const m=document.getElementById("root");m&&m.clientHeight<=window.innerHeight&&(m.style.overflowY="hidden");const N=$();N!==null&&je(U,Q,N)}),r(Ne,{get children(){return[r(we,{get when(){return U().newFormat},get children(){return r(un,{paste:$,setShowModal:M,setSelectable:P,setShowNotes:G,showNotes:ae,makeOpaqueOnFocus:Y,makeTransparentOnMouseover:j,notesWidth:ce,setNotesOpacity:R,notesOpacity:de,copyPaste:ue,showModal:Z,sett:U,setSett:Q,isEncrypted:L,handleCreateOts:C})}}),r(we,{get when(){return!U().newFormat},get children(){return r(yt,{paste:$,setShowModal:M,setSelectable:P,setShowNotes:G,showNotes:ae,makeOpaqueOnFocus:Y,makeTransparentOnMouseover:j,notesWidth:ce,setNotesOpacity:R,notesOpacity:de,copyPaste:oe,showModal:Z,sett:U,setSett:Q,isEncrypted:L,handleCreateOts:C})}})]}})},ye=document.getElementById("root");ye&&We(()=>r(gn,{}),ye);
