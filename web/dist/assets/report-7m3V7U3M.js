import{r as R,b as c,d as B,c as a,o as C,t,i,S as b,e as m,f as U}from"./app-DXF8bG7o.js";var z=t('<h1 class="text-3xl font-bold mb-2 text-center">Report a Paste'),D=t('<p class="mb-4 text-center">If you believe a paste violates our Terms of Service, please submit a report.'),I=t('<p class="text-red-500 text-xs italic">Please enter a valid PokeBin link in the format https://pokebin.com/your-paste-id.'),T=t('<div class="text-red-500 text-sm mb-4">'),M=t('<form class="max-w-xl mx-auto"><div class=mb-4><label for=pasteLink class="block text-gray-300 text-sm font-bold mb-2">PokeBin Link:</label><input type=text id=pasteLink placeholder=https://pokebin.com/your-paste-id></div><div class=mb-6><label for=password class="block text-gray-300 text-sm font-bold mb-2">Password (if applicable):</label><input type=password id=password placeholder="Enter password if the paste is protected"class="shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline bg-zinc-800 text-white border-zinc-600"></div><div class="flex items-center justify-center"><button type=submit class="bg-[#c2a8d4] hover:bg-[#9770b6] text-black font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Submit Report'),N=t('<div class="text-white min-h-screen flex"><div class="container mx-auto px-4 py-8 max-w-xl">'),j=t('<h1 class="text-2xl font-bold mb-2 text-center text-green-300">Report Submitted!');const O=()=>{const[l,f]=a(""),[d,h]=a(""),[w,x]=a(!0),[_,g]=a(!1),[k,p]=a("");C(()=>{const s=new WebSocket("/ws");s.onopen=async()=>{console.log("WebSocket connected to:","/ws")}});const P=async o=>{if(o.preventDefault(),x(!0),p(""),!l()){alert("Please enter the PokeBin link.");return}try{const e=new URL(l());if(e.hostname!==new URL("https://pokebin.com").hostname)throw new Error("Not a PokeBin link");if(!/[a-zA-Z0-9-]+$/.test(e.pathname.slice(1)))throw new Error("Paste ID is invalid")}catch(e){console.error(e),x(!1),p("Please enter a valid PokeBin link in the format https://pokebin.com/your-paste-id.");return}const s={paste:l(),password:d()};d()===""&&(s.password=null);try{const e=await fetch("/report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!e.ok){const n=await e.text();throw new Error(`Report submission failed: ${e.status} ${e.statusText} - ${n}`)}f(""),h(""),g(!0)}catch(e){console.error("Error during report submission:",e),p("Failed to submit report. Please try again."),g(!1)}};return(()=>{var o=N(),s=o.firstChild;return i(s,c(b,{get when(){return!_()},get fallback(){return j()},get children(){return[z(),D(),(()=>{var e=M(),n=e.firstChild,S=n.firstChild,u=S.nextSibling,$=n.nextSibling,L=$.firstChild,v=L.nextSibling,E=$.nextSibling;return e.addEventListener("submit",P),u.$$input=r=>f(r.target.value),i(n,c(b,{get when(){return!w()},get children(){return I()}}),null),v.$$input=r=>h(r.target.value),i(e,c(b,{get when(){return k()},get children(){var r=T();return i(r,k),r}}),E),m(()=>U(u,`shadow appearance-none border rounded w-full py-2 px-3
                       leading-tight focus:outline-none
                       focus:shadow-outline bg-zinc-800 text-white border-zinc-600
                       ${w()?"":"border-red-500"}`)),m(()=>u.value=l()),m(()=>v.value=d()),e})()]}})),o})()},y=document.getElementById("root");y&&R(()=>c(O,{}),y);B(["input"]);
