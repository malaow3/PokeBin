import{c as C,o as xe,a as _e,t as i,e as H,s as ie,f as w,d as Se,b as r,S as l,i as n,F as fe,m as te,h as Ce,j as Ee,g as V,M as we,k as Ne,l as me,r as We}from"./app-DCEGEANC.js";import{u as Oe,i as Re}from"./settings-RJr6PlCQ.js";import{S as Le}from"./settingsForm-BnohVR9G.js";import{l as He,g as pe,c as Me,p as Be,u as Ue,a as ze,i as Ie,d as Ae,S as je}from"./web_wasm_helpers-BheoOdFI.js";var qe=i('<div id=NOCOPY style="pointer-events:none;z-index:9999;transform-origin:bottom right;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;align-items:center;white-space:nowrap"><img class="border-none outline-none shadow-none"alt="PokeBin Logo">');function Te(){const[$,K]=C(!1),[O,ae]=C("shrink"),[U,ne]=C(window.innerWidth),[re,D]=C("50px"),[de,J]=C("100px"),[oe,R]=C("10px"),[ce,P]=C("0px");function X(){const M=window.innerWidth/window.innerHeight;M>=1.84&&M<=1.864||window.innerWidth<=450?(J("75px"),D("35px"),R("55px")):window.innerWidth<=1290||window.innerWidth<=1400?(J("75px"),D("35px"),R("60px")):(R("20px"),P("15px")),window.innerWidth<=1290?O()==="shrink"&&K(!0):K(!1)}return xe(()=>{window.onresize=()=>{window.innerWidth<U()?(ae("shrink"),ne(window.innerWidth)):(ae("grow"),ne(window.innerWidth)),X()},X()}),_e(()=>{X()}),(()=>{var M=qe(),Z=M.firstChild;return H(M,"display","flex"),H(M,"width","100px"),H(M,"height","0px"),ie(Z,"src",He),H(Z,"transform","scale(1.5)"),w(E=>{var G=$()?"fixed":"relative",B=oe(),A=ce(),Y=$()?"30px":void 0,Q=$()?void 0:"30px",le=$()?"column":"row",j=re(),se=de();return G!==E.e&&H(M,"position",E.e=G),B!==E.t&&H(M,"bottom",E.t=B),A!==E.a&&H(M,"padding-bottom",E.a=A),Y!==E.o&&H(M,"right",E.o=Y),Q!==E.i&&H(M,"left",E.i=Q),le!==E.n&&H(M,"flex-direction",E.n=le),j!==E.s&&H(Z,"height",E.s=j),se!==E.h&&H(Z,"width",E.h=se),E},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),M})()}var Fe=i('<h1 class="text-[#c2a8d4] text-2xl font-semibold"id=title style=user-select:none>'),De=i("<p class=text-base id=author style=user-select:none>"),Pe=i("<p class=text-base id=format style=user-select:none>Format: "),Qe=i("<p class=text-base id=rental style=user-select:none>Rental: "),Ve=i("<div role=note class=metadata id=metadata style=user-select:none;min-width:125px>"),Je=i('<button class="cursor-pointer h-[30px] font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black w-[175px] mt-1 py-1 border-none rounded"type=button>'),Ge=i('<div role=note class="notes-content bg-zinc-600 border border-ccc p-5 rounded shadow-lg z-20"style=user-select:none;z-index:2><p id=notes class=text-white!>'),Ye=i('<div class="flex flex-row gap-4 align-middle mt-2"><button type=button class="bg-[#c2a8d4] hover:bg-[#9770b6] text-black px-4 py-0 rounded text-base font-bold">Create OTS'),Ke=i('<div class="fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-100 text-white!"tabindex=-1><div class="relative bg-zinc-800 rounded-lg p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-lg"tabindex=0><button type=button class="absolute top-2 right-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"aria-label="Close modal">✕</button><h2 class="text-xl font-semibold mb-4">Settings'),Xe=i('<div class="fixed inset-0 bg-black/40 flex items-center justify-center z-200"tabindex=-1><div class="bg-white rounded-lg p-6 shadow-lg relative"tabindex=0><button type=button class="absolute top-2 right-2 text-gray-500 hover:text-gray-700"aria-label="Close QR modal">✕</button><img id=qr-code alt="QR Code"class="max-w-full max-h-[60vh] mx-auto">'),Ze=i('<div class=content-wrapper><div class=side-content id=sidebar><div class="sidebar-inner md:ml-10 md:mr-2"><div class="notes-section my-1"></div></div><div id=buttons><div class=button-col><button type=submit class="cursor-pointer w-[175px] h-[30px] copy-button font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black py-1 rounded"style=user-select:none></button><button type=submit class="cursor-pointer w-[175px] h-[30px] copy-button font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black py-1 rounded"style=user-select:none></button></div><div class=button-col><button class="cursor-pointer h-[30px] font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black w-[175px] py-1 rounded"type=button style=user-select:none>Settings</button><button class="cursor-pointer h-[30px] font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black w-[175px] py-1 rounded"type=button style=user-select:none>QR</button></div></div></div><div class=main></div><br>'),ke=i("<span class=img-item>"),ve=i("<span>"),et=i("<span> @ "),tt=i("<span class=inline-element>"),nt=i("<div class=attribute-line><span class=attr>Ability:</span> "),rt=i("<div class=attribute-line><span class=attr>Level:</span> "),lt=i("<div class=attribute-line><span class=attr>Shiny:</span> "),st=i("<div class=attribute-line><span class=attr>Hidden Power:</span> <span>"),it=i("<div class=attribute-line><span class=attr>Tera Type:</span> <span>"),at=i("<span class=stat-hp> HP"),dt=i("<span class=stat-atk> Atk"),ot=i("<span class=stat-def> Def"),ct=i("<span class=stat-spa> SpA"),ut=i("<span class=stat-spd> SpD"),ht=i("<span class=stat-spe> Spe"),gt=i("<div class=attribute-line><span class=attr>EVs: "),$t=i("<span class=attr> Nature"),vt=i("<div class=attribute-line><span class=attr>"),k=i("<span style=font-size:1px> "),ge=i("<span>/"),bt=i("<div class=attribute-line><span class=attr>IVs: "),_t=i('<article><div class="img mr-2"><img class=img-pokemon></div><div class=paste><div id=mon_title></div><br class=display-none style=line-height:0px>'),ft=i("<span>- "),pt=i("<div class=move-line>"),wt=i("<span>-"),mt=i("<span> ");function yt($){const K=$.paste,O=$.setSelectable,ae=$.setShowNotes,U=$.showNotes,ne=$.setNotesOpacity,re=$.makeOpaqueOnFocus,D=$.makeTransparentOnMouseover,de=$.notesWidth,J=$.notesOpacity,oe=$.copyPaste,R=$.setShowModal,ce=$.showModal,P=$.sett,X=$.setSett,M=$.isEncrypted,Z=$.handleCreateOts,[E,G]=C(!1),[B,A]=C(""),[Y,Q]=C("Copy"),[le,j]=C(!1),[se,ue]=C("Screenshot");return r(l,{get when(){return K()},children:L=>(()=>{var F=Ze(),h=F.firstChild,b=h.firstChild,S=b.firstChild,x=b.nextSibling,N=x.firstChild,m=N.firstChild,y=m.nextSibling,T=N.nextSibling,q=T.firstChild,z=q.nextSibling,I=h.nextSibling;return I.nextSibling,n(b,r(l,{get when(){return L().title!==""||L().author!==""||L().format!==""||L().rental!==""},get children(){var t=Ve();return t.addEventListener("blur",()=>O(!1,"metadata")),t.$$mouseout=()=>O(!1,"metadata"),t.addEventListener("focus",()=>O(!0,"metadata")),t.$$mouseover=()=>O(!0,"metadata"),n(t,r(l,{get when(){return L().title!==""},get children(){var _=Fe();return w(e=>{var a=L().title,c=L().title;return a!==e.e&&ie(_,"aria-label",e.e=a),c!==e.t&&(_.innerHTML=e.t=c),e},{e:void 0,t:void 0}),_}}),null),n(t,r(l,{get when(){return L().author!==""},get children(){var _=De();return w(()=>_.innerHTML=`By: ${L().author}`),_}}),null),n(t,r(l,{get when(){return L().format!==""},get children(){var _=Pe();return _.firstChild,n(_,()=>L().format,null),_}}),null),n(t,r(l,{get when(){return L().rental!==""},get children(){var _=Qe();return _.firstChild,n(_,()=>L().rental,null),_}}),null),t}}),S),n(S,r(l,{get when(){return L().notes!==""},get children(){return[(()=>{var t=Je();return t.$$click=()=>{ae(!U());const _=document.getElementsByClassName("notes-content");if(_.length>0){const e=_[0];e.getBoundingClientRect().top<0&&(e.style.top="0px")}U()&&ne(1)},n(t,()=>U()?"Hide notes":"Show notes"),t})(),r(l,{get when(){return U()},get children(){var t=Ge(),_=t.firstChild;return t.addEventListener("blur",()=>{D(),O(!1,"notes")}),t.$$mouseout=()=>{D(),O(!1,"notes")},t.addEventListener("focus",()=>{re(),O(!0,"notes")}),t.$$mouseover=()=>{re(),O(!0,"notes")},w(e=>{var a=de(),c=J(),v=L().notes.replace(/\n/g,"<br />");return a!==e.e&&H(t,"width",e.e=a),c!==e.t&&H(t,"opacity",e.t=c),v!==e.a&&(_.innerHTML=e.a=v),e},{e:void 0,t:void 0,a:void 0}),t}})]}})),m.$$click=async()=>{console.log("Fetching screenshot...");let t=!1;for(;;){if(le())return;j(!0),ue("Generating...");const _=pe(),e=new EventSource(`/api/screenshot?id=${_}`);t||(t=!0,alert("Generating your screenshot, this may take some time! Please do not refresh or close the page.")),e.onmessage=a=>{const c=JSON.parse(a.data);if(console.log(c),c.status==="done"){const v=new Uint8Array(c.data),p=new Blob([v],{type:"image/png"}),s=URL.createObjectURL(p),u=document.createElement("a");u.href=s,u.download="screenshot.png",document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(s),e.close(),j(!1),ue("Screenshot");return}c.status==="waiting"&&ue("Waiting...")},e.onerror=a=>{console.error("SSE error:",a),e.close(),j(!1),ue("Screenshot")}}},n(m,se),y.$$click=async()=>{await oe(),Q("Copied!"),setTimeout(()=>{Q("Copy")},2e3)},n(y,Y),q.$$click=()=>R(!0),z.$$click=async()=>{const t=window.location.href,_=t.substring(t.lastIndexOf("/")+1),e=`https://pokebin.com/${_}`,a=Me(e);a!==void 0&&(await fetch("/api/feature",{method:"POST",body:JSON.stringify({feature:"qr_code",id:_})}),A(a),G(!0))},n(I,r(fe,{get each(){return L().pokemon},children:t=>(()=>{var _=_t(),e=_.firstChild,a=e.firstChild,c=e.nextSibling,v=c.firstChild,p=v.nextSibling;return n(e,r(l,{get when(){return t.item_image!==""},get children(){var s=ke();return w(u=>Ee(s,t.item_image,u)),s}}),a),n(v,r(l,{get when(){return t.nickname!==""},get fallback(){return[(()=>{var s=ve();return n(s,()=>t.name),w(()=>V(s,`type-${t.type1} inline-element`)),s})(),r(l,{get when(){return t.gender!==""},get children(){var s=ve();return w(()=>s.innerHTML=` (<span class="inline-element gender-${t.gender}">${t.gender}</span>)`),s}})]},get children(){return[te(()=>t.nickname)," (",(()=>{var s=ve();return n(s,()=>t.name),w(()=>V(s,`type-${t.type1} inline-element`)),s})(),")",r(l,{get when(){return t.gender!==""},get children(){var s=ve();return w(()=>s.innerHTML=` (<span class="inline-element gender-${t.gender}">${t.gender}</span>)`),s}})]}}),null),n(v,r(l,{get when(){return t.item!==""},get children(){return[et(),(()=>{var s=tt();return w(()=>s.innerHTML=`${t.item.trim()}`),s})()]}}),null),n(c,r(l,{get when(){return t.ability!==""},get children(){var s=nt(),u=s.firstChild;return u.nextSibling,n(s,()=>t.ability,null),s}}),p),n(c,r(l,{get when(){return t.level!==100},get children(){var s=rt(),u=s.firstChild;return u.nextSibling,n(s,()=>t.level,null),s}}),p),n(c,r(l,{get when(){return t.shiny!==""},get children(){var s=lt(),u=s.firstChild;return u.nextSibling,n(s,()=>t.shiny,null),s}}),p),n(c,r(l,{get when(){return t.hidden_power!==""},get children(){var s=st(),u=s.firstChild,f=u.nextSibling,W=f.nextSibling;return n(W,()=>t.hidden_power),w(()=>V(W,`type-${t.hidden_power}`)),s}}),p),n(c,r(l,{get when(){return t.tera_type!==""},get children(){var s=it(),u=s.firstChild,f=u.nextSibling,W=f.nextSibling;return n(W,()=>t.tera_type),w(()=>V(W,`type-${t.tera_type}`)),s}}),p),n(c,r(l,{get when(){return t.last_stat_ev!==""},get children(){var s=gt();return s.firstChild,n(s,r(l,{get when(){return t.evs[0]!==0},get children(){return[(()=>{var u=at(),f=u.firstChild;return n(u,()=>t.evs[0],f),u})(),r(l,{get when(){return t.last_stat_ev!=="hp"},children:"/"})]}}),null),n(s,r(l,{get when(){return t.evs[1]!==0},get children(){return[(()=>{var u=dt(),f=u.firstChild;return n(u,()=>t.evs[1],f),u})(),r(l,{get when(){return t.last_stat_ev!=="atk"},children:"/"})]}}),null),n(s,r(l,{get when(){return t.evs[2]!==0},get children(){return[(()=>{var u=ot(),f=u.firstChild;return n(u,()=>t.evs[2],f),u})(),r(l,{get when(){return t.last_stat_ev!=="def"},children:"/"})]}}),null),n(s,r(l,{get when(){return t.evs[3]!==0},get children(){return[(()=>{var u=ct(),f=u.firstChild;return n(u,()=>t.evs[3],f),u})(),r(l,{get when(){return t.last_stat_ev!=="spa"},children:"/"})]}}),null),n(s,r(l,{get when(){return t.evs[4]!==0},get children(){return[(()=>{var u=ut(),f=u.firstChild;return n(u,()=>t.evs[4],f),u})(),r(l,{get when(){return t.last_stat_ev!=="spd"},children:"/"})]}}),null),n(s,r(l,{get when(){return t.evs[5]!==0},get children(){var u=ht(),f=u.firstChild;return n(u,()=>t.evs[5],f),u}}),null),s}}),p),n(c,r(l,{get when(){return t.nature!==""},get children(){var s=vt(),u=s.firstChild;return n(u,()=>t.nature),n(s,r(l,{get when(){return!t.nature.endsWith(" Nature")},get children(){return $t()}}),null),s}}),p),n(c,r(l,{get when(){return t.last_stat_iv!==""},get children(){var s=bt();return s.firstChild,n(s,r(l,{get when(){return t.ivs[0]!==31},get children(){return[te(()=>t.ivs[0])," HP",r(l,{get when(){return t.last_stat_iv!=="hp"},get children(){return[k(),ge(),k()]}})]}}),null),n(s,r(l,{get when(){return t.ivs[1]!==31},get children(){return[te(()=>t.ivs[1])," Atk",r(l,{get when(){return t.last_stat_iv!=="atk"},get children(){return[k(),ge(),k()]}})]}}),null),n(s,r(l,{get when(){return t.ivs[2]!==31},get children(){return[te(()=>t.ivs[2])," Def",r(l,{get when(){return t.last_stat_iv!=="def"},get children(){return[k(),ge(),k()]}})]}}),null),n(s,r(l,{get when(){return t.ivs[3]!==31},get children(){return[te(()=>t.ivs[3])," SpA",r(l,{get when(){return t.last_stat_iv!=="spa"},get children(){return[k(),ge(),k()]}})]}}),null),n(s,r(l,{get when(){return t.ivs[4]!==31},get children(){return[te(()=>t.ivs[4])," SpD",r(l,{get when(){return t.last_stat_iv!=="spd"},get children(){return[k(),ge(),k()]}})]}}),null),n(s,r(l,{get when(){return t.ivs[5]!==31},get children(){return[te(()=>t.ivs[5])," Spe"]}}),null),s}}),p),n(c,r(fe,{get each(){return t.moves},children:s=>(()=>{var u=pt();return n(u,r(l,{get when(){return P().moveColors},get fallback(){return[(()=>{var f=wt();return w(()=>V(f,`type-${s.type1}`)),f})(),(()=>{var f=mt();return f.firstChild,H(f,"color","white"),n(f,()=>s.name,null),f})()]},get children(){var f=ft();return f.firstChild,n(f,()=>s.name,null),w(()=>V(f,`type-${s.type1}`)),f}})),u})()}),p),w(s=>{var u=t.pokemon_image,f=t.name;return u!==s.e&&ie(a,"src",s.e=u),f!==s.t&&ie(a,"alt",s.t=f),s},{e:void 0,t:void 0}),_})()})),n(F,r(Te,{}),null),n(F,r(l,{get when(){return ce()},get children(){var t=Ke(),_=t.firstChild,e=_.firstChild;return e.nextSibling,t.$$keydown=a=>a.stopPropagation(),t.$$click=()=>R(!1),_.$$keydown=a=>a.stopPropagation(),_.$$click=a=>a.stopPropagation(),e.$$click=()=>R(!1),n(_,r(Le,{get settings(){return P()},onChange:(a,c)=>{Oe(a,c,P,X)},get children(){return r(l,{get when(){return te(()=>!L().isOts)()&&!M()},get children(){var a=Ye(),c=a.firstChild;return Ce(c,"click",Z),a}})}}),null),t}}),null),n(F,r(l,{get when(){return E()},get children(){var t=Xe(),_=t.firstChild,e=_.firstChild,a=e.nextSibling;return t.$$click=()=>{G(!1),URL.revokeObjectURL(B()),A("")},t.$$keydown=c=>c.stopPropagation(),_.$$keydown=c=>c.stopPropagation(),_.$$click=c=>c.stopPropagation(),e.$$click=()=>{G(!1),URL.revokeObjectURL(B()),A("")},w(()=>ie(a,"src",B())),t}}),null),w(()=>m.disabled=le()),F})()})}Se(["mouseover","mouseout","click","keydown"]);var xt=i('<h1 class="text-[#c2a8d4] text-2xl font-semibold"id=title style=user-select:none>'),St=i("<p class=text-base id=author style=user-select:none>"),Ct=i("<p class=text-base id=format style=user-select:none>Format: "),Et=i("<p class=text-base id=rental style=user-select:none>Rental: "),Ot=i("<div role=note class=metadata id=metadata style=user-select:none;min-width:125px>"),Lt=i('<button class="cursor-pointer h-[30px] font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black w-[175px] mt-1 py-1 border-none rounded"type=button>'),Mt=i('<div role=note class="notes-content bg-zinc-600 border border-ccc p-5 rounded shadow-lg z-20"style=user-select:none;z-index:2><p id=notes class=text-white!>'),Tt=i('<div class="flex flex-row gap-4 align-middle mt-2"><button type=button class="bg-[#c2a8d4] hover:bg-[#9770b6] text-black px-4 py-0 rounded text-base font-bold">Create OTS'),Nt=i('<div class="fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-100 text-white!"tabindex=-1><div class="relative bg-zinc-800 rounded-lg p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-lg"tabindex=0><button type=button class="absolute top-2 right-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"aria-label="Close modal">✕</button><h2 class="text-xl font-semibold mb-4">Settings'),Wt=i('<div class="fixed inset-0 bg-black/40 flex items-center justify-center z-200"tabindex=-1><div class="bg-white rounded-lg p-6 shadow-lg relative"tabindex=0><button type=button class="absolute top-2 right-2 text-gray-500 hover:text-gray-700"aria-label="Close QR modal">✕</button><img id=qr-code alt="QR Code"class="max-w-full max-h-[60vh] mx-auto">'),Rt=i('<div class=content-wrapper><div class=side-content id=sidebar><div class="sidebar-inner md:ml-10 md:mr-2"><div class="notes-section my-1"></div></div><div id=buttons><div class=button-col><button type=submit class="cursor-pointer w-[175px] h-[30px] copy-button font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black py-1 rounded"style=user-select:none></button><button type=submit class="cursor-pointer w-[175px] h-[30px] copy-button font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black py-1 rounded"style=user-select:none></button></div><div class=button-col><button class="cursor-pointer h-[30px] font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black w-[175px] py-1 rounded"type=button style=user-select:none>Settings</button><button class="cursor-pointer h-[30px] font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black w-[175px] py-1 rounded"type=button style=user-select:none>QR</button></div></div></div><div class=main></div><br>'),Ht=i("<span class=img-item>"),be=i("<span>"),Bt=i("<span>[<!>]"),Ut=i("<span> @ "),zt=i("<span class=inline-element>"),It=i("<div class=attribute-line>"),At=i("<span class=stat-hp> HP"),jt=i("<span class=stat-atk> Atk"),qt=i("<span class=stat-def> Def"),Ft=i("<span class=stat-spa> SpA"),Dt=i("<span class=stat-spd> SpD"),Pt=i("<span class=stat-spe> Spe"),Qt=i("<div class=attribute-line><span>EVs: "),Vt=i("<div class=attribute-line><span>"),Jt=i("<div class=attribute-line><span> Nature"),Gt=i("<span> HP"),ee=i("<span style=font-size:1px> "),$e=i("<span>/"),Yt=i("<span> Atk"),Kt=i("<span> Def"),Xt=i("<span> SpA"),Zt=i("<span> SpD"),kt=i("<span> Spe"),en=i("<div class=attribute-line><span>IVs: "),tn=i("<div class=attribute-line><span class=attr>Level:</span> "),nn=i("<div class=attribute-line><span class=attr>Shiny:</span> "),rn=i("<div class=attribute-line><span class=attr>Hidden Power:</span> <span>"),ln=i("<div class=attribute-line><span class=attr>Tera Type:</span> <span>"),sn=i('<article><div class="img mr-2"><img class=img-pokemon></div><div class=paste><div id=mon_title></div><br class=display-none style=line-height:-10px>'),an=i("<span>- "),dn=i("<div class=move-line>"),on=i("<span>-"),cn=i("<span> ");function un($){const K=$.paste,O=$.setSelectable,ae=$.setShowNotes,U=$.showNotes,ne=$.setNotesOpacity,re=$.makeOpaqueOnFocus,D=$.makeTransparentOnMouseover,de=$.notesWidth,J=$.notesOpacity,oe=$.copyPaste,R=$.setShowModal,ce=$.showModal,P=$.sett,X=$.setSett,M=$.isEncrypted,Z=$.handleCreateOts,[E,G]=C(!1),[B,A]=C(!1),[Y,Q]=C(""),[le,j]=C("Copy"),[se,ue]=C("Screenshot");function L(h){G(h)}function F(h){ue(h)}return r(l,{get when(){return K()},children:h=>(()=>{var b=Rt(),S=b.firstChild,x=S.firstChild,N=x.firstChild,m=x.nextSibling,y=m.firstChild,T=y.firstChild,q=T.nextSibling,z=y.nextSibling,I=z.firstChild,t=I.nextSibling,_=S.nextSibling;return _.nextSibling,n(x,r(l,{get when(){return h().title!==""||h().author!==""||h().format!==""||h().rental!==""},get children(){var e=Ot();return e.addEventListener("blur",()=>O(!1,"metadata")),e.$$mouseout=()=>O(!1,"metadata"),e.addEventListener("focus",()=>O(!0,"metadata")),e.$$mouseover=()=>O(!0,"metadata"),n(e,r(l,{get when(){return h().title!==""},get children(){var a=xt();return w(c=>{var v=h().title,p=h().title;return v!==c.e&&ie(a,"aria-label",c.e=v),p!==c.t&&(a.innerHTML=c.t=p),c},{e:void 0,t:void 0}),a}}),null),n(e,r(l,{get when(){return h().author!==""},get children(){var a=St();return w(()=>a.innerHTML=`By: ${h().author}`),a}}),null),n(e,r(l,{get when(){return h().format!==""},get children(){var a=Ct();return a.firstChild,n(a,()=>h().format,null),a}}),null),n(e,r(l,{get when(){return h().rental!==""},get children(){var a=Et();return a.firstChild,n(a,()=>h().rental,null),a}}),null),e}}),N),n(N,r(l,{get when(){return h().notes!==""},get children(){return[(()=>{var e=Lt();return e.$$click=()=>{ae(!U());const a=document.getElementsByClassName("notes-content");if(a.length>0){const c=a[0];c.getBoundingClientRect().top<0&&(c.style.top="0px")}U()&&ne(1)},n(e,()=>U()?"Hide notes":"Show notes"),e})(),r(l,{get when(){return U()},get children(){var e=Mt(),a=e.firstChild;return e.addEventListener("blur",()=>{D(),O(!1,"notes")}),e.$$mouseout=()=>{D(),O(!1,"notes")},e.addEventListener("focus",()=>{re(),O(!0,"notes")}),e.$$mouseover=()=>{re(),O(!0,"notes")},w(c=>{var v=de(),p=J(),s=h().notes.replace(/\n/g,"<br />");return v!==c.e&&H(e,"width",c.e=v),p!==c.t&&H(e,"opacity",c.t=p),s!==c.a&&(a.innerHTML=c.a=s),c},{e:void 0,t:void 0,a:void 0}),e}})]}})),T.$$click=async()=>{console.log("Fetching screenshot...");let e=!1;for(;;){if(E())return;L(!0),F("Generating...");const a=pe(),c=new EventSource(`/api/screenshot?id=${a}`);e||(e=!0,alert("Generating your screenshot, this may take some time! Please do not refresh or close the page.")),c.onmessage=v=>{const p=JSON.parse(v.data);if(console.log(p),p.status==="done"){const s=new Uint8Array(p.data),u=new Blob([s],{type:"image/png"}),f=URL.createObjectURL(u),W=document.createElement("a");W.href=f,W.download="screenshot.png",document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(f),c.close(),L(!1),F("Screenshot");return}p.status==="waiting"&&F("Waiting...")},c.onerror=v=>{console.error("SSE error:",v),c.close(),L(!1),F("Screenshot")}}},n(T,se),q.$$click=async()=>{await oe(),j("Copied!"),setTimeout(()=>{j("Copy")},2e3)},n(q,le),I.$$click=()=>R(!0),t.$$click=async()=>{const e=window.location.href,a=e.substring(e.lastIndexOf("/")+1),c=`https://pokebin.com/${a}`,v=Me(c);v!==void 0&&(await fetch("/api/feature",{method:"POST",body:JSON.stringify({feature:"qr_code",id:a})}),Q(v),A(!0))},n(_,r(fe,{get each(){return h().pokemon},children:e=>{const a=e.evs.map(v=>v!==0?v.toString():"");let c=!0;for(const v of a)v!==""&&(c=!1);return(()=>{var v=sn(),p=v.firstChild,s=p.firstChild,u=p.nextSibling,f=u.firstChild,W=f.nextSibling;return n(p,r(l,{get when(){return e.item_image!==""},get children(){var o=Ht();return w(d=>Ee(o,e.item_image,d)),o}}),s),n(f,r(l,{get when(){return e.nickname!==""},get fallback(){return[(()=>{var o=be();return n(o,()=>e.name),w(()=>V(o,`type-${e.type1} inline-element`)),o})(),r(l,{get when(){return e.gender!==""},get children(){var o=be();return w(()=>o.innerHTML=` (<span class="inline-element gender-${e.gender}">${e.gender}</span>)`),o}})]},get children(){return[te(()=>e.nickname)," (",(()=>{var o=be();return n(o,()=>e.name),w(()=>V(o,`type-${e.type1} inline-element`)),o})(),")",r(l,{get when(){return e.gender!==""},get children(){var o=be();return w(()=>o.innerHTML=` (<span class="inline-element gender-${e.gender}">${e.gender}</span>)`),o}})]}})),n(u,r(l,{get when(){return e.ability!==""||e.item!==""},get children(){var o=It();return n(o,r(l,{get when(){return e.ability!==""},get children(){var d=Bt(),g=d.firstChild,he=g.nextSibling;return he.nextSibling,n(d,()=>e.ability,he),d}}),null),n(o,r(l,{get when(){return e.item!==""},get children(){return[Ut(),(()=>{var d=zt();return w(()=>d.innerHTML=`${e.item.trim()}`),d})()]}}),null),o}}),W),n(u,r(fe,{get each(){return e.moves},children:o=>(()=>{var d=dn();return n(d,r(l,{get when(){return P().moveColors},get fallback(){return[(()=>{var g=on();return w(()=>V(g,`type-${o.type1}`)),g})(),(()=>{var g=cn();return g.firstChild,H(g,"color","white"),n(g,()=>o.name,null),g})()]},get children(){var g=an();return g.firstChild,n(g,()=>o.name,null),w(()=>V(g,`type-${o.type1}`)),g}})),d})()}),W),n(u,r(l,{get when(){return!h().isOts&&!c},get children(){return[(()=>{var o=Qt();return o.firstChild,n(o,r(l,{get when(){return a[0]!==""},get children(){return[(()=>{var d=At(),g=d.firstChild;return n(d,()=>a[0],g),d})(),r(l,{get when(){return e.last_stat_ev!=="hp"},children:"/"})]}}),null),n(o,r(l,{get when(){return a[1]!==""},get children(){return[(()=>{var d=jt(),g=d.firstChild;return n(d,()=>a[1],g),d})(),r(l,{get when(){return e.last_stat_ev!=="atk"},children:"/"})]}}),null),n(o,r(l,{get when(){return a[2]!==""},get children(){return[(()=>{var d=qt(),g=d.firstChild;return n(d,()=>a[2],g),d})(),r(l,{get when(){return e.last_stat_ev!=="def"},children:"/"})]}}),null),n(o,r(l,{get when(){return a[3]!==""},get children(){return[(()=>{var d=Ft(),g=d.firstChild;return n(d,()=>a[3],g),d})(),r(l,{get when(){return e.last_stat_ev!=="spa"},children:"/"})]}}),null),n(o,r(l,{get when(){return a[4]!==""},get children(){return[(()=>{var d=Dt(),g=d.firstChild;return n(d,()=>a[4],g),d})(),r(l,{get when(){return e.last_stat_ev!=="spd"},children:"/"})]}}),null),n(o,r(l,{get when(){return a[5]!==""},get children(){var d=Pt(),g=d.firstChild;return n(d,()=>a[5],g),d}}),null),o})(),r(l,{get when(){return e.nature!==""},get children(){return[r(l,{get when(){return e.nature.endsWith("Nature")},get children(){var o=Vt(),d=o.firstChild;return n(d,()=>e.nature),o}}),r(l,{get when(){return!e.nature.endsWith("Nature")},get children(){var o=Jt(),d=o.firstChild,g=d.firstChild;return n(d,()=>e.nature,g),o}})]}}),r(l,{get when(){return e.last_stat_iv!==""},get children(){var o=en();return o.firstChild,n(o,r(l,{get when(){return e.ivs[0]!==31},get children(){return[(()=>{var d=Gt(),g=d.firstChild;return n(d,()=>e.ivs[0],g),d})(),r(l,{get when(){return e.last_stat_iv!=="hp"},get children(){return[ee(),$e(),ee()]}})]}}),null),n(o,r(l,{get when(){return e.ivs[1]!==31},get children(){return[(()=>{var d=Yt(),g=d.firstChild;return n(d,()=>e.ivs[1],g),d})(),r(l,{get when(){return e.last_stat_iv!=="atk"},get children(){return[ee(),$e(),ee()]}})]}}),null),n(o,r(l,{get when(){return e.ivs[2]!==31},get children(){return[(()=>{var d=Kt(),g=d.firstChild;return n(d,()=>e.ivs[2],g),d})(),r(l,{get when(){return e.last_stat_iv!=="def"},get children(){return[ee(),$e(),ee()]}})]}}),null),n(o,r(l,{get when(){return e.ivs[3]!==31},get children(){return[(()=>{var d=Xt(),g=d.firstChild;return n(d,()=>e.ivs[3],g),d})(),r(l,{get when(){return e.last_stat_iv!=="spa"},get children(){return[ee(),$e(),ee()]}})]}}),null),n(o,r(l,{get when(){return e.ivs[4]!==31},get children(){return[(()=>{var d=Zt(),g=d.firstChild;return n(d,()=>e.ivs[4],g),d})(),r(l,{get when(){return e.last_stat_iv!=="spd"},get children(){return[ee(),$e(),ee()]}})]}}),null),n(o,r(l,{get when(){return e.ivs[5]!==31},get children(){var d=kt(),g=d.firstChild;return n(d,()=>e.ivs[5],g),d}}),null),o}})]}}),W),n(u,r(l,{get when(){return e.level!==100},get children(){var o=tn(),d=o.firstChild;return d.nextSibling,n(o,()=>e.level,null),o}}),W),n(u,r(l,{get when(){return e.shiny!==""},get children(){var o=nn(),d=o.firstChild;return d.nextSibling,n(o,()=>e.shiny,null),o}}),W),n(u,r(l,{get when(){return e.hidden_power!==""},get children(){var o=rn(),d=o.firstChild,g=d.nextSibling,he=g.nextSibling;return n(he,()=>e.hidden_power),w(()=>V(he,`type-${e.hidden_power}`)),o}}),W),n(u,r(l,{get when(){return e.tera_type!==""},get children(){var o=ln(),d=o.firstChild,g=d.nextSibling,he=g.nextSibling;return n(he,()=>e.tera_type),w(()=>V(he,`type-${e.tera_type}`)),o}}),W),w(o=>{var d=e.pokemon_image,g=e.name;return d!==o.e&&ie(s,"src",o.e=d),g!==o.t&&ie(s,"alt",o.t=g),o},{e:void 0,t:void 0}),v})()}})),n(b,r(Te,{}),null),n(b,r(l,{get when(){return ce()},get children(){var e=Nt(),a=e.firstChild,c=a.firstChild;return c.nextSibling,e.$$keydown=v=>v.stopPropagation(),e.$$click=()=>R(!1),a.$$keydown=v=>v.stopPropagation(),a.$$click=v=>v.stopPropagation(),c.$$click=()=>R(!1),n(a,r(Le,{get settings(){return P()},onChange:(v,p)=>{Oe(v,p,P,X)},get children(){return r(l,{get when(){return te(()=>!h().isOts)()&&!M()},get children(){var v=Tt(),p=v.firstChild;return Ce(p,"click",Z),v}})}}),null),e}}),null),n(b,r(l,{get when(){return B()},get children(){var e=Wt(),a=e.firstChild,c=a.firstChild,v=c.nextSibling;return e.$$click=()=>{A(!1),URL.revokeObjectURL(Y()),Q("")},e.$$keydown=p=>p.stopPropagation(),a.$$keydown=p=>p.stopPropagation(),a.$$click=p=>p.stopPropagation(),c.$$click=()=>{A(!1),URL.revokeObjectURL(Y()),Q("")},w(()=>ie(v,"src",Y())),e}}),null),w(()=>T.disabled=E()),b})()})}Se(["mouseover","mouseout","click","keydown"]);function hn($){return $.split(`
`).filter(K=>!/^\s*(IVs:|EVs:)/i.test(K)).join(`
`)}const gn=()=>{const[$,K]=C(null),[O,ae]=C(!1),[U,ne]=C(""),[re,D]=C(null),[de,J]=C(!1),[oe,R]=C(1),[ce,P]=C("300px"),[X,M]=C(!1),Z=window.innerWidth/window.innerHeight;console.log(Z);function E(h){const b=document.getElementById("theme-color-meta");b&&b.setAttribute("content",h?"#000000":"#f9f9f9")}async function G(){if(O())return;const h=U();if(!h)return;let b;try{b={encrypted:!1,data:JSON.parse(h)}}catch{return}b.data.content=hn(b.data.content);const S=document.createElement("form");S.method="POST",S.action="/create",S.style.display="none";function x(m,y){const T=document.createElement("input");T.type="hidden",T.name=m,T.value=y,S.appendChild(T)}const N=Ue(JSON.stringify(b));x("data",N),document.body.appendChild(S),S.submit()}const{sett:B,setSett:A}=Re();function Y(){R(.2)}function Q(){R(1)}function le(h){const b=document.createElement("textarea");b.innerHTML=h;const S=b.value;return b.remove(),S}function j(){const h=document.getElementsByTagName("main")[0],b=document.getElementById("sidebar"),S=document.getElementById("notes");if(!h&&!b&&!S)return;const x=document.getElementsByTagName("article");let N=x.length;x.length>4&&(N=4);const m=window.innerWidth;for(let y=0;y<N;y++)if(m>1024){const T=Math.floor(window.innerHeight*.02);x[y].style.marginBottom=`${T}px`}if(m<=1024)P("300px");else{const y=m-420,T=Math.min(Math.max(y,300),600);P(`${T}px`)}}function se(h,b){const S=document.getElementById(b);if(S===null)return;h?S.style.userSelect="text":S.style.userSelect="auto";const x=S.children,N=[];for(let m=0;m<x.length;m++)N.push(x[m]);for(;N.length>0;){const m=N.pop();if(m==null)break;for(let y=0;y<m.children.length;y++)N.push(m.children[y]);if(h)for(let y=0;y<x.length;y++)m.style.userSelect="auto";else for(let y=0;y<x.length;y++)m.style.userSelect="none"}}async function ue(){console.log("Copying paste to clipboard...");const h=document.getElementsByClassName("main")[0];if(!h)return;let b="";h.querySelectorAll("article").forEach((x,N)=>{var q;const m=x.querySelector("#mon_title");m&&(b+=`${(q=m.textContent)==null?void 0:q.trim()}
`),x.querySelectorAll(".attribute-line").forEach((z,I)=>{var t;b+=`${(t=z.textContent)==null?void 0:t.trim()}
`}),x.querySelectorAll(".move-line").forEach((z,I)=>{var t;b+=`${(t=z.textContent)==null?void 0:t.trim()}
`}),b+=`
`}),console.log(b.trim()),await navigator.clipboard.writeText(b.trim()),console.log("Paste copied to clipboard.")}async function L(){console.log("Copying paste to clipboard...");const h=document.getElementsByClassName("main")[0];if(!h)return;let b="";h.querySelectorAll("article").forEach((x,N)=>{var z,I;const m=x.querySelector("#mon_title");m&&(b+=`${(z=m.textContent)==null?void 0:z.trim()}
`);const y=x.querySelector("#ability-item");y&&(b+=`${(I=y.textContent)==null?void 0:I.trim()}
`),x.querySelectorAll(".move-line").forEach((t,_)=>{var e;b+=`${(e=t.textContent)==null?void 0:e.trim()}
`}),x.querySelectorAll(".attribute-line").forEach((t,_)=>{var e;b+=`${(e=t.textContent)==null?void 0:e.trim()}
`}),b+=`
`}),console.log(b.trim()),await navigator.clipboard.writeText(b.trim()),console.log("Paste copied to clipboard.")}_e(()=>{const h=re();h&&(document.title=le(h)),window.addEventListener("resize",j)}),_e(()=>{if(!U())return;const h=Be(U(),B().twoDImages);K(h),h&&D(h.title)});function F(){const h=document.getElementsByTagName("body")[0];B().darkMode?(h.classList.add("dark"),h.classList.remove("light")):(h.classList.add("light"),h.classList.remove("dark")),E(B().darkMode)}return _e(()=>{F()}),xe(async()=>{const h=pe(),S=await(await fetch(`/${h}/json`)).json();await ze(),await Ie();const x="/ws",N=new WebSocket(x);if(N.onopen=async()=>{console.log("WebSocket connected to:",x)},S.encrypted){ae(!0);let q=!1,z="Enter password";for(;!q;){let I=prompt(z,"");for(;I===""||I===null;)z="Enter password",I=prompt(z,"");const t=Ae(S.data,I);t==null?z="Invalid password":(ne(t),q=!0)}}else ne(JSON.stringify(S.data));F(),window.addEventListener("resize",j),j(),me(()=>{window.removeEventListener("resize",j)});const m=q=>{q.key==="Escape"&&M(!1)};window.addEventListener("keydown",m),me(()=>window.removeEventListener("keydown",m));const y=document.getElementById("root");y&&y.clientHeight<=window.innerHeight&&(y.style.overflowY="hidden");const T=$();T!==null&&je(B,A,T)}),r(Ne,{get children(){return[r(we,{get when(){return B().newFormat},get children(){return r(un,{paste:$,setShowModal:M,setSelectable:se,setShowNotes:J,showNotes:de,makeOpaqueOnFocus:Q,makeTransparentOnMouseover:Y,notesWidth:ce,setNotesOpacity:R,notesOpacity:oe,copyPaste:L,showModal:X,sett:B,setSett:A,isEncrypted:O,handleCreateOts:G})}}),r(we,{get when(){return!B().newFormat},get children(){return r(yt,{paste:$,setShowModal:M,setSelectable:se,setShowNotes:J,showNotes:de,makeOpaqueOnFocus:Q,makeTransparentOnMouseover:Y,notesWidth:ce,setNotesOpacity:R,notesOpacity:oe,copyPaste:ue,showModal:X,sett:B,setSett:A,isEncrypted:O,handleCreateOts:G})}})]}})},ye=document.getElementById("root");ye&&We(()=>r(gn,{}),ye);
