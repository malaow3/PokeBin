import{c as E,o as me,a as pe,t as i,s as se,e as m,d as xe,b as r,S as l,i as t,F as ye,m as te,g as Se,h as Ce,f as Y,M as _e,j as Me,k as fe,r as Te}from"./app-DFXuq7DK.js";import{l as Ne,g as be,c as Pe,p as We,u as Re,a as He,i as Be,d as Ue,S as ze}from"./large_logo_cropped-7o4_HSqC.js";import{u as Ee,i as Ie}from"./settings-OhcODOHu.js";import{S as Oe}from"./settingsForm-CbGKQZcX.js";var Ae=i('<div id=NOCOPY><img class="border-none outline-none shadow-none"alt="PokeBin Logo">');function Le(){const[$,X]=E(!1),[L,ie]=E("shrink"),[z,ne]=E(window.innerWidth),[re,D]=E("50px"),[ae,K]=E("100px"),[oe,H]=E("10px"),[de,Q]=E("0px");function Z(){const _=window.innerWidth/window.innerHeight;_>=1.84&&_<=1.864||window.innerWidth<=450?(K("75px"),D("35px"),H("55px")):window.innerWidth<=1290||window.innerWidth<=1400?(K("75px"),D("35px"),H("60px")):(H("20px"),Q("15px")),window.innerWidth<=1290?L()==="shrink"&&X(!0):X(!1)}return me(()=>{window.onresize=()=>{window.innerWidth<z()?(ie("shrink"),ne(window.innerWidth)):(ie("grow"),ne(window.innerWidth)),Z()},Z()}),pe(()=>{Z()}),(()=>{var _=Ae(),V=_.firstChild;return _.style.setProperty("display","flex"),_.style.setProperty("pointer-events","none"),_.style.setProperty("z-index","9999"),_.style.setProperty("transform-origin","bottom right"),_.style.setProperty("user-select","none"),_.style.setProperty("-webkit-user-select","none"),_.style.setProperty("-moz-user-select","none"),_.style.setProperty("-ms-user-select","none"),_.style.setProperty("align-items","center"),_.style.setProperty("white-space","nowrap"),_.style.setProperty("width","100px"),_.style.setProperty("height","0px"),se(V,"src",Ne),V.style.setProperty("transform","scale(1.5)"),m(P=>{var B=$()?"fixed":"relative",j=oe(),I=de(),J=$()?"30px":void 0,G=$()?void 0:"30px",q=$()?"column":"row",F=re(),le=ae();return B!==P.e&&((P.e=B)!=null?_.style.setProperty("position",B):_.style.removeProperty("position")),j!==P.t&&((P.t=j)!=null?_.style.setProperty("bottom",j):_.style.removeProperty("bottom")),I!==P.a&&((P.a=I)!=null?_.style.setProperty("padding-bottom",I):_.style.removeProperty("padding-bottom")),J!==P.o&&((P.o=J)!=null?_.style.setProperty("right",J):_.style.removeProperty("right")),G!==P.i&&((P.i=G)!=null?_.style.setProperty("left",G):_.style.removeProperty("left")),q!==P.n&&((P.n=q)!=null?_.style.setProperty("flex-direction",q):_.style.removeProperty("flex-direction")),F!==P.s&&((P.s=F)!=null?V.style.setProperty("height",F):V.style.removeProperty("height")),le!==P.h&&((P.h=le)!=null?V.style.setProperty("width",le):V.style.removeProperty("width")),P},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),_})()}var je=i('<h1 class="text-[#c2a8d4] text-2xl font-semibold"id=title>'),qe=i("<p class=text-base id=author>"),Fe=i("<p class=text-base id=format>Format: "),De=i("<p class=text-base id=rental>Rental: "),Qe=i("<div role=note class=metadata id=metadata>"),Ve=i('<button class="cursor-pointer h-[30px] font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black w-[175px] mt-1 py-1 border-none rounded"type=button>'),Je=i('<div role=note class="notes-content bg-zinc-600 border border-ccc p-5 rounded shadow-lg z-20"><p id=notes class=!text-white>'),Ge=i('<div class="flex flex-row gap-4 align-middle mt-2"><button type=button class="bg-[#c2a8d4] hover:bg-[#9770b6] text-black px-4 py-0 rounded text-base font-bold">Create OTS'),Ye=i('<div class="fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-100 !text-white"tabindex=-1><div class="relative bg-zinc-800 rounded-lg p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-lg"tabindex=0><button type=button class="absolute top-2 right-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"aria-label="Close modal">✕</button><h2 class="text-xl font-semibold mb-4">Settings'),Ke=i('<div class="fixed inset-0 bg-black/40 flex items-center justify-center z-200"tabindex=-1><div class="bg-white rounded-lg p-6 shadow-lg relative"tabindex=0><button type=button class="absolute top-2 right-2 text-gray-500 hover:text-gray-700"aria-label="Close QR modal">✕</button><img id=qr-code alt="QR Code"class="max-w-full max-h-[60vh] mx-auto">'),Xe=i('<div class=content-wrapper><div class=side-content id=sidebar><div class="sidebar-inner md:ml-10 md:mr-2"><div class="notes-section my-1"></div></div><div id=buttons><div class=button-col><button type=submit class="cursor-pointer w-[175px] h-[30px] copy-button font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black py-1 rounded"></button><button type=submit class="cursor-pointer w-[175px] h-[30px] copy-button font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black py-1 rounded"></button></div><div class=button-col><button class="cursor-pointer h-[30px] font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black w-[175px] py-1 rounded"type=button>Settings</button><button class="cursor-pointer h-[30px] font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black w-[175px] py-1 rounded"type=button>QR</button></div></div></div><div class=main></div><br>'),Ze=i("<span class=img-item>"),ve=i("<span>"),ke=i("<span> @ "),et=i("<span class=inline-element>"),tt=i("<div class=attribute-line><span class=attr>Ability:</span> "),nt=i("<div class=attribute-line><span class=attr>Level:</span> "),rt=i("<div class=attribute-line><span class=attr>Shiny:</span> "),lt=i("<div class=attribute-line><span class=attr>Hidden Power:</span> <span>"),st=i("<div class=attribute-line><span class=attr>Tera Type:</span> <span>"),it=i("<span class=stat-hp> HP"),at=i("<span class=stat-atk> Atk"),ot=i("<span class=stat-def> Def"),dt=i("<span class=stat-spa> SpA"),ct=i("<span class=stat-spd> SpD"),ut=i("<span class=stat-spe> Spe"),ht=i("<div class=attribute-line><span class=attr>EVs: "),gt=i("<span class=attr> Nature"),vt=i("<div class=attribute-line><span class=attr>"),k=i("<span style=font-size:1px;> "),he=i("<span>/"),$t=i("<div class=attribute-line><span class=attr>IVs: "),pt=i('<article><div class="img mr-2"><img class=img-pokemon></div><div class=paste><div id=mon_title></div><br class=display-none>'),yt=i("<span>- "),bt=i("<div class=move-line>"),_t=i("<span>-"),ft=i("<span> ");function wt($){const X=$.paste,L=$.setSelectable,ie=$.setShowNotes,z=$.showNotes,ne=$.setNotesOpacity,re=$.makeOpaqueOnFocus,D=$.makeTransparentOnMouseover,ae=$.notesWidth,K=$.notesOpacity,oe=$.copyPaste,H=$.setShowModal,de=$.showModal,Q=$.sett,Z=$.setSett,_=$.isEncrypted,V=$.handleCreateOts,[P,B]=E(!1),[j,I]=E(""),[J,G]=E("Copy"),[q,F]=E(!1),[le,ce]=E("Screenshot");return r(l,{get when(){return X()},children:O=>(()=>{var y=Xe(),h=y.firstChild,x=h.firstChild,C=x.firstChild,N=x.nextSibling,S=N.firstChild,w=S.firstChild,M=w.nextSibling,U=S.nextSibling,W=U.firstChild,A=W.nextSibling,R=h.nextSibling;return R.nextSibling,t(x,r(l,{get when(){return O().title!==""||O().author!==""||O().format!==""||O().rental!==""},get children(){var n=Qe();return n.addEventListener("blur",()=>L(!1,"metadata")),n.$$mouseout=()=>L(!1,"metadata"),n.addEventListener("focus",()=>L(!0,"metadata")),n.$$mouseover=()=>L(!0,"metadata"),n.style.setProperty("user-select","none"),n.style.setProperty("min-width","125px"),t(n,r(l,{get when(){return O().title!==""},get children(){var g=je();return g.style.setProperty("user-select","none"),m(e=>{var a=O().title,c=O().title;return a!==e.e&&se(g,"aria-label",e.e=a),c!==e.t&&(g.innerHTML=e.t=c),e},{e:void 0,t:void 0}),g}}),null),t(n,r(l,{get when(){return O().author!==""},get children(){var g=qe();return g.style.setProperty("user-select","none"),m(()=>g.innerHTML=`By: ${O().author}`),g}}),null),t(n,r(l,{get when(){return O().format!==""},get children(){var g=Fe();return g.firstChild,g.style.setProperty("user-select","none"),t(g,()=>O().format,null),g}}),null),t(n,r(l,{get when(){return O().rental!==""},get children(){var g=De();return g.firstChild,g.style.setProperty("user-select","none"),t(g,()=>O().rental,null),g}}),null),n}}),C),t(C,r(l,{get when(){return O().notes!==""},get children(){return[(()=>{var n=Ve();return n.$$click=()=>{ie(!z());const g=document.getElementsByClassName("notes-content");if(g.length>0){const e=g[0];e.getBoundingClientRect().top<0&&(e.style.top="0px")}z()&&ne(1)},t(n,()=>z()?"Hide notes":"Show notes"),n})(),r(l,{get when(){return z()},get children(){var n=Je(),g=n.firstChild;return n.addEventListener("blur",()=>{D(),L(!1,"notes")}),n.$$mouseout=()=>{D(),L(!1,"notes")},n.addEventListener("focus",()=>{re(),L(!0,"notes")}),n.$$mouseover=()=>{re(),L(!0,"notes")},n.style.setProperty("user-select","none"),n.style.setProperty("z-index","2"),m(e=>{var a=ae(),c=K(),p=O().notes.replace(/\n/g,"<br />");return a!==e.e&&((e.e=a)!=null?n.style.setProperty("width",a):n.style.removeProperty("width")),c!==e.t&&((e.t=c)!=null?n.style.setProperty("opacity",c):n.style.removeProperty("opacity")),p!==e.a&&(g.innerHTML=e.a=p),e},{e:void 0,t:void 0,a:void 0}),n}})]}})),w.$$click=async()=>{console.log("Fetching screenshot...");let n=!1;for(;;){if(q())return;F(!0),ce("Generating...");const g=be(),e=new EventSource(`/api/screenshot?id=${g}`);n||(n=!0,alert("Generating your screenshot, this may take some time! Please do not refresh or close the page.")),e.onmessage=a=>{const c=JSON.parse(a.data);if(console.log(c),c.status==="done"){const p=new Uint8Array(c.data),b=new Blob([p],{type:"image/png"}),s=URL.createObjectURL(b),u=document.createElement("a");u.href=s,u.download="screenshot.png",document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(s),e.close(),F(!1),ce("Screenshot");return}c.status==="waiting"&&ce("Waiting...")},e.onerror=a=>{console.error("SSE error:",a),e.close(),F(!1),ce("Screenshot")}}},w.style.setProperty("user-select","none"),t(w,le),M.$$click=async()=>{await oe(),G("Copied!"),setTimeout(()=>{G("Copy")},2e3)},M.style.setProperty("user-select","none"),t(M,J),W.$$click=()=>H(!0),W.style.setProperty("user-select","none"),A.$$click=async()=>{const n=window.location.href,e=`https://pokebin.com/${n.substring(n.lastIndexOf("/")+1)}`,a=Pe(e);a!==void 0&&(I(a),B(!0))},A.style.setProperty("user-select","none"),t(R,r(ye,{get each(){return O().pokemon},children:n=>(()=>{var g=pt(),e=g.firstChild,a=e.firstChild,c=e.nextSibling,p=c.firstChild,b=p.nextSibling;return t(e,r(l,{get when(){return n.item_image!==""},get children(){var s=Ze();return m(u=>Ce(s,n.item_image,u)),s}}),a),t(p,r(l,{get when(){return n.nickname!==""},get fallback(){return[(()=>{var s=ve();return t(s,()=>n.name),m(()=>Y(s,`type-${n.type1} inline-element`)),s})(),r(l,{get when(){return n.gender!==""},get children(){var s=ve();return m(()=>s.innerHTML=` (<span class="inline-element gender-${n.gender}">${n.gender}</span>)`),s}})]},get children(){return[te(()=>n.nickname)," (",(()=>{var s=ve();return t(s,()=>n.name),m(()=>Y(s,`type-${n.type1} inline-element`)),s})(),")",r(l,{get when(){return n.gender!==""},get children(){var s=ve();return m(()=>s.innerHTML=` (<span class="inline-element gender-${n.gender}">${n.gender}</span>)`),s}})]}}),null),t(p,r(l,{get when(){return n.item!==""},get children(){return[ke(),(()=>{var s=et();return m(()=>s.innerHTML=`${n.item.trim()}`),s})()]}}),null),t(c,r(l,{get when(){return n.ability!==""},get children(){var s=tt(),u=s.firstChild;return u.nextSibling,t(s,()=>n.ability,null),s}}),b),t(c,r(l,{get when(){return n.level!==100},get children(){var s=nt(),u=s.firstChild;return u.nextSibling,t(s,()=>n.level,null),s}}),b),t(c,r(l,{get when(){return n.shiny!==""},get children(){var s=rt(),u=s.firstChild;return u.nextSibling,t(s,()=>n.shiny,null),s}}),b),t(c,r(l,{get when(){return n.hidden_power!==""},get children(){var s=lt(),u=s.firstChild,f=u.nextSibling,T=f.nextSibling;return t(T,()=>n.hidden_power),m(()=>Y(T,`type-${n.hidden_power}`)),s}}),b),t(c,r(l,{get when(){return n.tera_type!==""},get children(){var s=st(),u=s.firstChild,f=u.nextSibling,T=f.nextSibling;return t(T,()=>n.tera_type),m(()=>Y(T,`type-${n.tera_type}`)),s}}),b),t(c,r(l,{get when(){return n.last_stat_ev!==""},get children(){var s=ht();return s.firstChild,t(s,r(l,{get when(){return n.evs[0]!==0},get children(){return[(()=>{var u=it(),f=u.firstChild;return t(u,()=>n.evs[0],f),u})(),r(l,{get when(){return n.last_stat_ev!=="hp"},children:"/"})]}}),null),t(s,r(l,{get when(){return n.evs[1]!==0},get children(){return[(()=>{var u=at(),f=u.firstChild;return t(u,()=>n.evs[1],f),u})(),r(l,{get when(){return n.last_stat_ev!=="atk"},children:"/"})]}}),null),t(s,r(l,{get when(){return n.evs[2]!==0},get children(){return[(()=>{var u=ot(),f=u.firstChild;return t(u,()=>n.evs[2],f),u})(),r(l,{get when(){return n.last_stat_ev!=="def"},children:"/"})]}}),null),t(s,r(l,{get when(){return n.evs[3]!==0},get children(){return[(()=>{var u=dt(),f=u.firstChild;return t(u,()=>n.evs[3],f),u})(),r(l,{get when(){return n.last_stat_ev!=="spa"},children:"/"})]}}),null),t(s,r(l,{get when(){return n.evs[4]!==0},get children(){return[(()=>{var u=ct(),f=u.firstChild;return t(u,()=>n.evs[4],f),u})(),r(l,{get when(){return n.last_stat_ev!=="spd"},children:"/"})]}}),null),t(s,r(l,{get when(){return n.evs[5]!==0},get children(){var u=ut(),f=u.firstChild;return t(u,()=>n.evs[5],f),u}}),null),s}}),b),t(c,r(l,{get when(){return n.nature!==""},get children(){var s=vt(),u=s.firstChild;return t(u,()=>n.nature),t(s,r(l,{get when(){return!n.nature.endsWith(" Nature")},get children(){return gt()}}),null),s}}),b),t(c,r(l,{get when(){return n.last_stat_iv!==""},get children(){var s=$t();return s.firstChild,t(s,r(l,{get when(){return n.ivs[0]!==31},get children(){return[te(()=>n.ivs[0])," HP",r(l,{get when(){return n.last_stat_iv!=="hp"},get children(){return[k(),he(),k()]}})]}}),null),t(s,r(l,{get when(){return n.ivs[1]!==31},get children(){return[te(()=>n.ivs[1])," Atk",r(l,{get when(){return n.last_stat_iv!=="atk"},get children(){return[k(),he(),k()]}})]}}),null),t(s,r(l,{get when(){return n.ivs[2]!==31},get children(){return[te(()=>n.ivs[2])," Def",r(l,{get when(){return n.last_stat_iv!=="def"},get children(){return[k(),he(),k()]}})]}}),null),t(s,r(l,{get when(){return n.ivs[3]!==31},get children(){return[te(()=>n.ivs[3])," SpA",r(l,{get when(){return n.last_stat_iv!=="spa"},get children(){return[k(),he(),k()]}})]}}),null),t(s,r(l,{get when(){return n.ivs[4]!==31},get children(){return[te(()=>n.ivs[4])," SpD",r(l,{get when(){return n.last_stat_iv!=="spd"},get children(){return[k(),he(),k()]}})]}}),null),t(s,r(l,{get when(){return n.ivs[5]!==31},get children(){return[te(()=>n.ivs[5])," Spe"]}}),null),s}}),b),t(c,r(ye,{get each(){return n.moves},children:s=>(()=>{var u=bt();return t(u,r(l,{get when(){return Q().moveColors},get fallback(){return[(()=>{var f=_t();return m(()=>Y(f,`type-${s.type1}`)),f})(),(()=>{var f=ft();return f.firstChild,f.style.setProperty("color","white"),t(f,()=>s.name,null),f})()]},get children(){var f=yt();return f.firstChild,t(f,()=>s.name,null),m(()=>Y(f,`type-${s.type1}`)),f}})),u})()}),b),b.style.setProperty("line-height","0px"),m(s=>{var u=n.pokemon_image,f=n.name;return u!==s.e&&se(a,"src",s.e=u),f!==s.t&&se(a,"alt",s.t=f),s},{e:void 0,t:void 0}),g})()})),t(y,r(Le,{}),null),t(y,r(l,{get when(){return de()},get children(){var n=Ye(),g=n.firstChild,e=g.firstChild;return e.nextSibling,n.$$keydown=a=>a.stopPropagation(),n.$$click=()=>H(!1),g.$$keydown=a=>a.stopPropagation(),g.$$click=a=>a.stopPropagation(),e.$$click=()=>H(!1),t(g,r(Oe,{get settings(){return Q()},onChange:(a,c)=>{Ee(a,c,Q,Z)},get children(){return r(l,{get when(){return te(()=>!O().isOts)()&&!_()},get children(){var a=Ge(),c=a.firstChild;return Se(c,"click",V),a}})}}),null),n}}),null),t(y,r(l,{get when(){return P()},get children(){var n=Ke(),g=n.firstChild,e=g.firstChild,a=e.nextSibling;return n.$$click=()=>{B(!1),URL.revokeObjectURL(j()),I("")},n.$$keydown=c=>c.stopPropagation(),g.$$keydown=c=>c.stopPropagation(),g.$$click=c=>c.stopPropagation(),e.$$click=()=>{B(!1),URL.revokeObjectURL(j()),I("")},m(()=>se(a,"src",j())),n}}),null),m(()=>w.disabled=q()),y})()})}xe(["mouseover","mouseout","click","keydown"]);var mt=i('<h1 class="text-[#c2a8d4] text-2xl font-semibold"id=title>'),xt=i("<p class=text-base id=author>"),St=i("<p class=text-base id=format>Format: "),Ct=i("<p class=text-base id=rental>Rental: "),Pt=i("<div role=note class=metadata id=metadata>"),Et=i('<button class="cursor-pointer h-[30px] font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black w-[175px] mt-1 py-1 border-none rounded"type=button>'),Ot=i('<div role=note class="notes-content bg-zinc-600 border border-ccc p-5 rounded shadow-lg z-20"><p id=notes class=!text-white>'),Lt=i('<div class="flex flex-row gap-4 align-middle mt-2"><button type=button class="bg-[#c2a8d4] hover:bg-[#9770b6] text-black px-4 py-0 rounded text-base font-bold">Create OTS'),Mt=i('<div class="fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-100 !text-white"tabindex=-1><div class="relative bg-zinc-800 rounded-lg p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-lg"tabindex=0><button type=button class="absolute top-2 right-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"aria-label="Close modal">✕</button><h2 class="text-xl font-semibold mb-4">Settings'),Tt=i('<div class="fixed inset-0 bg-black/40 flex items-center justify-center z-200"tabindex=-1><div class="bg-white rounded-lg p-6 shadow-lg relative"tabindex=0><button type=button class="absolute top-2 right-2 text-gray-500 hover:text-gray-700"aria-label="Close QR modal">✕</button><img id=qr-code alt="QR Code"class="max-w-full max-h-[60vh] mx-auto">'),Nt=i('<div class=content-wrapper><div class=side-content id=sidebar><div class="sidebar-inner md:ml-10 md:mr-2"><div class="notes-section my-1"></div></div><div id=buttons><div class=button-col><button type=submit class="cursor-pointer w-[175px] h-[30px] copy-button font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black py-1 rounded"></button><button type=submit class="cursor-pointer w-[175px] h-[30px] copy-button font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black py-1 rounded"></button></div><div class=button-col><button class="cursor-pointer h-[30px] font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black w-[175px] py-1 rounded"type=button>Settings</button><button class="cursor-pointer h-[30px] font-bold bg-[#c2a8d4] hover:bg-[#9770b6] text-black w-[175px] py-1 rounded"type=button>QR</button></div></div></div><div class=main></div><br>'),Wt=i("<span class=img-item>"),$e=i("<span>"),Rt=i("<span>[<!>]"),Ht=i("<span> @ "),Bt=i("<span class=inline-element>"),Ut=i("<div class=attribute-line>"),zt=i("<span class=stat-hp> HP"),It=i("<span class=stat-atk> Atk"),At=i("<span class=stat-def> Def"),jt=i("<span class=stat-spa> SpA"),qt=i("<span class=stat-spd> SpD"),Ft=i("<span class=stat-spe> Spe"),Dt=i("<div class=attribute-line><span>EVs: "),Qt=i("<div class=attribute-line><span>"),Vt=i("<div class=attribute-line><span> Nature"),Jt=i("<span> HP"),ee=i("<span style=font-size:1px;> "),ge=i("<span>/"),Gt=i("<span> Atk"),Yt=i("<span> Def"),Kt=i("<span> SpA"),Xt=i("<span> SpD"),Zt=i("<span> Spe"),kt=i("<div class=attribute-line><span>IVs: "),en=i("<div class=attribute-line><span class=attr>Level:</span> "),tn=i("<div class=attribute-line><span class=attr>Shiny:</span> "),nn=i("<div class=attribute-line><span class=attr>Hidden Power:</span> <span>"),rn=i("<div class=attribute-line><span class=attr>Tera Type:</span> <span>"),ln=i('<article><div class="img mr-2"><img class=img-pokemon></div><div class=paste><div id=mon_title></div><br class=display-none>'),sn=i("<span>- "),an=i("<div class=move-line>"),on=i("<span>-"),dn=i("<span> ");function cn($){const X=$.paste,L=$.setSelectable,ie=$.setShowNotes,z=$.showNotes,ne=$.setNotesOpacity,re=$.makeOpaqueOnFocus,D=$.makeTransparentOnMouseover,ae=$.notesWidth,K=$.notesOpacity,oe=$.copyPaste,H=$.setShowModal,de=$.showModal,Q=$.sett,Z=$.setSett,_=$.isEncrypted,V=$.handleCreateOts,[P,B]=E(!1),[j,I]=E(!1),[J,G]=E(""),[q,F]=E("Copy"),[le,ce]=E("Screenshot");function O(h){B(h)}function y(h){ce(h)}return r(l,{get when(){return X()},children:h=>(()=>{var x=Nt(),C=x.firstChild,N=C.firstChild,S=N.firstChild,w=N.nextSibling,M=w.firstChild,U=M.firstChild,W=U.nextSibling,A=M.nextSibling,R=A.firstChild,n=R.nextSibling,g=C.nextSibling;return g.nextSibling,t(N,r(l,{get when(){return h().title!==""||h().author!==""||h().format!==""||h().rental!==""},get children(){var e=Pt();return e.addEventListener("blur",()=>L(!1,"metadata")),e.$$mouseout=()=>L(!1,"metadata"),e.addEventListener("focus",()=>L(!0,"metadata")),e.$$mouseover=()=>L(!0,"metadata"),e.style.setProperty("user-select","none"),e.style.setProperty("min-width","125px"),t(e,r(l,{get when(){return h().title!==""},get children(){var a=mt();return a.style.setProperty("user-select","none"),m(c=>{var p=h().title,b=h().title;return p!==c.e&&se(a,"aria-label",c.e=p),b!==c.t&&(a.innerHTML=c.t=b),c},{e:void 0,t:void 0}),a}}),null),t(e,r(l,{get when(){return h().author!==""},get children(){var a=xt();return a.style.setProperty("user-select","none"),m(()=>a.innerHTML=`By: ${h().author}`),a}}),null),t(e,r(l,{get when(){return h().format!==""},get children(){var a=St();return a.firstChild,a.style.setProperty("user-select","none"),t(a,()=>h().format,null),a}}),null),t(e,r(l,{get when(){return h().rental!==""},get children(){var a=Ct();return a.firstChild,a.style.setProperty("user-select","none"),t(a,()=>h().rental,null),a}}),null),e}}),S),t(S,r(l,{get when(){return h().notes!==""},get children(){return[(()=>{var e=Et();return e.$$click=()=>{ie(!z());const a=document.getElementsByClassName("notes-content");if(a.length>0){const c=a[0];c.getBoundingClientRect().top<0&&(c.style.top="0px")}z()&&ne(1)},t(e,()=>z()?"Hide notes":"Show notes"),e})(),r(l,{get when(){return z()},get children(){var e=Ot(),a=e.firstChild;return e.addEventListener("blur",()=>{D(),L(!1,"notes")}),e.$$mouseout=()=>{D(),L(!1,"notes")},e.addEventListener("focus",()=>{re(),L(!0,"notes")}),e.$$mouseover=()=>{re(),L(!0,"notes")},e.style.setProperty("user-select","none"),e.style.setProperty("z-index","2"),m(c=>{var p=ae(),b=K(),s=h().notes.replace(/\n/g,"<br />");return p!==c.e&&((c.e=p)!=null?e.style.setProperty("width",p):e.style.removeProperty("width")),b!==c.t&&((c.t=b)!=null?e.style.setProperty("opacity",b):e.style.removeProperty("opacity")),s!==c.a&&(a.innerHTML=c.a=s),c},{e:void 0,t:void 0,a:void 0}),e}})]}})),U.$$click=async()=>{console.log("Fetching screenshot...");let e=!1;for(;;){if(P())return;O(!0),y("Generating...");const a=be(),c=new EventSource(`/api/screenshot?id=${a}`);e||(e=!0,alert("Generating your screenshot, this may take some time! Please do not refresh or close the page.")),c.onmessage=p=>{const b=JSON.parse(p.data);if(console.log(b),b.status==="done"){const s=new Uint8Array(b.data),u=new Blob([s],{type:"image/png"}),f=URL.createObjectURL(u),T=document.createElement("a");T.href=f,T.download="screenshot.png",document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(f),c.close(),O(!1),y("Screenshot");return}b.status==="waiting"&&y("Waiting...")},c.onerror=p=>{console.error("SSE error:",p),c.close(),O(!1),y("Screenshot")}}},U.style.setProperty("user-select","none"),t(U,le),W.$$click=async()=>{await oe(),F("Copied!"),setTimeout(()=>{F("Copy")},2e3)},W.style.setProperty("user-select","none"),t(W,q),R.$$click=()=>H(!0),R.style.setProperty("user-select","none"),n.$$click=async()=>{const e=window.location.href,c=`https://pokebin.com/${e.substring(e.lastIndexOf("/")+1)}`,p=Pe(c);p!==void 0&&(G(p),I(!0))},n.style.setProperty("user-select","none"),t(g,r(ye,{get each(){return h().pokemon},children:e=>{const a=e.evs.map(p=>p!==0?p.toString():"");let c=!0;for(const p of a)p!==""&&(c=!1);return(()=>{var p=ln(),b=p.firstChild,s=b.firstChild,u=b.nextSibling,f=u.firstChild,T=f.nextSibling;return t(b,r(l,{get when(){return e.item_image!==""},get children(){var d=Wt();return m(o=>Ce(d,e.item_image,o)),d}}),s),t(f,r(l,{get when(){return e.nickname!==""},get fallback(){return[(()=>{var d=$e();return t(d,()=>e.name),m(()=>Y(d,`type-${e.type1} inline-element`)),d})(),r(l,{get when(){return e.gender!==""},get children(){var d=$e();return m(()=>d.innerHTML=` (<span class="inline-element gender-${e.gender}">${e.gender}</span>)`),d}})]},get children(){return[te(()=>e.nickname)," (",(()=>{var d=$e();return t(d,()=>e.name),m(()=>Y(d,`type-${e.type1} inline-element`)),d})(),")",r(l,{get when(){return e.gender!==""},get children(){var d=$e();return m(()=>d.innerHTML=` (<span class="inline-element gender-${e.gender}">${e.gender}</span>)`),d}})]}})),t(u,r(l,{get when(){return e.ability!==""||e.item!==""},get children(){var d=Ut();return t(d,r(l,{get when(){return e.ability!==""},get children(){var o=Rt(),v=o.firstChild,ue=v.nextSibling;return ue.nextSibling,t(o,()=>e.ability,ue),o}}),null),t(d,r(l,{get when(){return e.item!==""},get children(){return[Ht(),(()=>{var o=Bt();return m(()=>o.innerHTML=`${e.item.trim()}`),o})()]}}),null),d}}),T),t(u,r(ye,{get each(){return e.moves},children:d=>(()=>{var o=an();return t(o,r(l,{get when(){return Q().moveColors},get fallback(){return[(()=>{var v=on();return m(()=>Y(v,`type-${d.type1}`)),v})(),(()=>{var v=dn();return v.firstChild,v.style.setProperty("color","white"),t(v,()=>d.name,null),v})()]},get children(){var v=sn();return v.firstChild,t(v,()=>d.name,null),m(()=>Y(v,`type-${d.type1}`)),v}})),o})()}),T),t(u,r(l,{get when(){return!h().isOts&&!c},get children(){return[(()=>{var d=Dt();return d.firstChild,t(d,r(l,{get when(){return a[0]!==""},get children(){return[(()=>{var o=zt(),v=o.firstChild;return t(o,()=>a[0],v),o})(),r(l,{get when(){return e.last_stat_ev!=="hp"},children:"/"})]}}),null),t(d,r(l,{get when(){return a[1]!==""},get children(){return[(()=>{var o=It(),v=o.firstChild;return t(o,()=>a[1],v),o})(),r(l,{get when(){return e.last_stat_ev!=="atk"},children:"/"})]}}),null),t(d,r(l,{get when(){return a[2]!==""},get children(){return[(()=>{var o=At(),v=o.firstChild;return t(o,()=>a[2],v),o})(),r(l,{get when(){return e.last_stat_ev!=="def"},children:"/"})]}}),null),t(d,r(l,{get when(){return a[3]!==""},get children(){return[(()=>{var o=jt(),v=o.firstChild;return t(o,()=>a[3],v),o})(),r(l,{get when(){return e.last_stat_ev!=="spa"},children:"/"})]}}),null),t(d,r(l,{get when(){return a[4]!==""},get children(){return[(()=>{var o=qt(),v=o.firstChild;return t(o,()=>a[4],v),o})(),r(l,{get when(){return e.last_stat_ev!=="spd"},children:"/"})]}}),null),t(d,r(l,{get when(){return a[5]!==""},get children(){var o=Ft(),v=o.firstChild;return t(o,()=>a[5],v),o}}),null),d})(),r(l,{get when(){return e.nature!==""},get children(){return[r(l,{get when(){return e.nature.endsWith("Nature")},get children(){var d=Qt(),o=d.firstChild;return t(o,()=>e.nature),d}}),r(l,{get when(){return!e.nature.endsWith("Nature")},get children(){var d=Vt(),o=d.firstChild,v=o.firstChild;return t(o,()=>e.nature,v),d}})]}}),r(l,{get when(){return e.last_stat_iv!==""},get children(){var d=kt();return d.firstChild,t(d,r(l,{get when(){return e.ivs[0]!==31},get children(){return[(()=>{var o=Jt(),v=o.firstChild;return t(o,()=>e.ivs[0],v),o})(),r(l,{get when(){return e.last_stat_iv!=="hp"},get children(){return[ee(),ge(),ee()]}})]}}),null),t(d,r(l,{get when(){return e.ivs[1]!==31},get children(){return[(()=>{var o=Gt(),v=o.firstChild;return t(o,()=>e.ivs[1],v),o})(),r(l,{get when(){return e.last_stat_iv!=="atk"},get children(){return[ee(),ge(),ee()]}})]}}),null),t(d,r(l,{get when(){return e.ivs[2]!==31},get children(){return[(()=>{var o=Yt(),v=o.firstChild;return t(o,()=>e.ivs[2],v),o})(),r(l,{get when(){return e.last_stat_iv!=="def"},get children(){return[ee(),ge(),ee()]}})]}}),null),t(d,r(l,{get when(){return e.ivs[3]!==31},get children(){return[(()=>{var o=Kt(),v=o.firstChild;return t(o,()=>e.ivs[3],v),o})(),r(l,{get when(){return e.last_stat_iv!=="spa"},get children(){return[ee(),ge(),ee()]}})]}}),null),t(d,r(l,{get when(){return e.ivs[4]!==31},get children(){return[(()=>{var o=Xt(),v=o.firstChild;return t(o,()=>e.ivs[4],v),o})(),r(l,{get when(){return e.last_stat_iv!=="spd"},get children(){return[ee(),ge(),ee()]}})]}}),null),t(d,r(l,{get when(){return e.ivs[5]!==31},get children(){var o=Zt(),v=o.firstChild;return t(o,()=>e.ivs[5],v),o}}),null),d}})]}}),T),t(u,r(l,{get when(){return e.level!==100},get children(){var d=en(),o=d.firstChild;return o.nextSibling,t(d,()=>e.level,null),d}}),T),t(u,r(l,{get when(){return e.shiny!==""},get children(){var d=tn(),o=d.firstChild;return o.nextSibling,t(d,()=>e.shiny,null),d}}),T),t(u,r(l,{get when(){return e.hidden_power!==""},get children(){var d=nn(),o=d.firstChild,v=o.nextSibling,ue=v.nextSibling;return t(ue,()=>e.hidden_power),m(()=>Y(ue,`type-${e.hidden_power}`)),d}}),T),t(u,r(l,{get when(){return e.tera_type!==""},get children(){var d=rn(),o=d.firstChild,v=o.nextSibling,ue=v.nextSibling;return t(ue,()=>e.tera_type),m(()=>Y(ue,`type-${e.tera_type}`)),d}}),T),T.style.setProperty("line-height","-10px"),m(d=>{var o=e.pokemon_image,v=e.name;return o!==d.e&&se(s,"src",d.e=o),v!==d.t&&se(s,"alt",d.t=v),d},{e:void 0,t:void 0}),p})()}})),t(x,r(Le,{}),null),t(x,r(l,{get when(){return de()},get children(){var e=Mt(),a=e.firstChild,c=a.firstChild;return c.nextSibling,e.$$keydown=p=>p.stopPropagation(),e.$$click=()=>H(!1),a.$$keydown=p=>p.stopPropagation(),a.$$click=p=>p.stopPropagation(),c.$$click=()=>H(!1),t(a,r(Oe,{get settings(){return Q()},onChange:(p,b)=>{Ee(p,b,Q,Z)},get children(){return r(l,{get when(){return te(()=>!h().isOts)()&&!_()},get children(){var p=Lt(),b=p.firstChild;return Se(b,"click",V),p}})}}),null),e}}),null),t(x,r(l,{get when(){return j()},get children(){var e=Tt(),a=e.firstChild,c=a.firstChild,p=c.nextSibling;return e.$$click=()=>{I(!1),URL.revokeObjectURL(J()),G("")},e.$$keydown=b=>b.stopPropagation(),a.$$keydown=b=>b.stopPropagation(),a.$$click=b=>b.stopPropagation(),c.$$click=()=>{I(!1),URL.revokeObjectURL(J()),G("")},m(()=>se(p,"src",J())),e}}),null),m(()=>U.disabled=P()),x})()})}xe(["mouseover","mouseout","click","keydown"]);function un($){return $.split(`
`).filter(X=>!/^\s*(IVs:|EVs:)/i.test(X)).join(`
`)}const hn=()=>{const[$,X]=E(null),[L,ie]=E(!1),[z,ne]=E(""),[re,D]=E(null),[ae,K]=E(!1),[oe,H]=E(1),[de,Q]=E("300px"),[Z,_]=E(!1);function V(y){const h=document.getElementById("theme-color-meta");h&&h.setAttribute("content",y?"#000000":"#f9f9f9")}async function P(){if(L())return;const y=z();if(!y)return;let h;try{h={encrypted:!1,data:JSON.parse(y)}}catch{return}h.data.content=un(h.data.content);const x=document.createElement("form");x.method="POST",x.action="/create",x.style.display="none";function C(S,w){const M=document.createElement("input");M.type="hidden",M.name=S,M.value=w,x.appendChild(M)}const N=Re(JSON.stringify(h));C("data",N),document.body.appendChild(x),x.submit()}const{sett:B,setSett:j}=Ie();function I(){H(.2)}function J(){H(1)}function G(y){const h=document.createElement("textarea");h.innerHTML=y;const x=h.value;return h.remove(),x}function q(){const y=document.getElementsByTagName("main")[0],h=document.getElementById("sidebar"),x=document.getElementById("notes");if(!y&&!h&&!x)return;const C=document.getElementsByTagName("article");let N=C.length;C.length>4&&(N=4);const S=window.innerWidth;for(let w=0;w<N;w++)if(S>1024){const M=Math.floor(window.innerHeight*.02);C[w].style.marginBottom=`${M}px`}if(S<=1024)Q("300px");else{const w=S-420,M=Math.min(Math.max(w,300),600);Q(`${M}px`)}}function F(y,h){const x=document.getElementById(h);if(x===null)return;y?x.style.userSelect="text":x.style.userSelect="auto";const C=x.children,N=[];for(let S=0;S<C.length;S++)N.push(C[S]);for(;N.length>0;){const S=N.pop();if(S==null)break;for(let w=0;w<S.children.length;w++)N.push(S.children[w]);if(y)for(let w=0;w<C.length;w++)S.style.userSelect="auto";else for(let w=0;w<C.length;w++)S.style.userSelect="none"}}async function le(){console.log("Copying paste to clipboard...");const y=document.getElementsByClassName("main")[0];if(!y)return;let h="";y.querySelectorAll("article").forEach((C,N)=>{var U;const S=C.querySelector("#mon_title");S&&(h+=`${(U=S.textContent)==null?void 0:U.trim()}
`),C.querySelectorAll(".attribute-line").forEach((W,A)=>{var R;h+=`${(R=W.textContent)==null?void 0:R.trim()}
`}),C.querySelectorAll(".move-line").forEach((W,A)=>{var R;h+=`${(R=W.textContent)==null?void 0:R.trim()}
`}),h+=`
`}),console.log(h.trim()),await navigator.clipboard.writeText(h.trim()),console.log("Paste copied to clipboard.")}async function ce(){console.log("Copying paste to clipboard...");const y=document.getElementsByClassName("main")[0];if(!y)return;let h="";y.querySelectorAll("article").forEach((C,N)=>{var W,A;const S=C.querySelector("#mon_title");S&&(h+=`${(W=S.textContent)==null?void 0:W.trim()}
`);const w=C.querySelector("#ability-item");w&&(h+=`${(A=w.textContent)==null?void 0:A.trim()}
`),C.querySelectorAll(".move-line").forEach((R,n)=>{var g;h+=`${(g=R.textContent)==null?void 0:g.trim()}
`}),C.querySelectorAll(".attribute-line").forEach((R,n)=>{var g;h+=`${(g=R.textContent)==null?void 0:g.trim()}
`}),h+=`
`}),console.log(h.trim()),await navigator.clipboard.writeText(h.trim()),console.log("Paste copied to clipboard.")}pe(()=>{const y=re();y&&(document.title=G(y)),window.addEventListener("resize",q)}),pe(()=>{if(!z())return;const y=We(z(),B().twoDImages);X(y),y&&D(y.title)});function O(){const y=document.getElementsByTagName("body")[0];B().darkMode?(y.classList.add("dark"),y.classList.remove("light")):(y.classList.add("light"),y.classList.remove("dark")),V(B().darkMode)}return pe(()=>{O()}),me(async()=>{const y=be(),x=await(await fetch(`/${y}/json`)).json();await He(),await Be();const C="/ws",N=new WebSocket(C);if(N.onopen=async()=>{console.log("WebSocket connected to:",C)},x.encrypted){ie(!0);let U=!1,W="Enter password";for(;!U;){let A=prompt(W,"");for(;A===""||A===null;)W="Enter password",A=prompt(W,"");const R=Ue(x.data,A);R==null?W="Invalid password":(ne(R),U=!0)}}else ne(JSON.stringify(x.data));O(),window.addEventListener("resize",q),q(),fe(()=>{window.removeEventListener("resize",q)});const S=U=>{U.key==="Escape"&&_(!1)};window.addEventListener("keydown",S),fe(()=>window.removeEventListener("keydown",S));const w=document.getElementById("root");w&&w.clientHeight<=window.innerHeight&&(w.style.overflowY="hidden");const M=$();M!==null&&ze(B,j,M)}),r(Me,{get children(){return[r(_e,{get when(){return B().newFormat},get children(){return r(cn,{paste:$,setShowModal:_,setSelectable:F,setShowNotes:K,showNotes:ae,makeOpaqueOnFocus:J,makeTransparentOnMouseover:I,notesWidth:de,setNotesOpacity:H,notesOpacity:oe,copyPaste:ce,showModal:Z,sett:B,setSett:j,isEncrypted:L,handleCreateOts:P})}}),r(_e,{get when(){return!B().newFormat},get children(){return r(wt,{paste:$,setShowModal:_,setSelectable:F,setShowNotes:K,showNotes:ae,makeOpaqueOnFocus:J,makeTransparentOnMouseover:I,notesWidth:de,setNotesOpacity:H,notesOpacity:oe,copyPaste:le,showModal:Z,sett:B,setSett:j,isEncrypted:L,handleCreateOts:P})}})]}})},we=document.getElementById("root");we&&Te(()=>r(hn,{}),we);
